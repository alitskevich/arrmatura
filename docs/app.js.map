{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap","webpack:///./app/app.html","webpack:///./app/index.js","webpack:///./app/res.js","webpack:///./app/store.js","webpack:///./commons/Form.js","webpack:///./commons/NavigationService.js","webpack:///./commons/Service.js","webpack:///./commons/ServiceWorker.js","webpack:///./commons/elements.html","webpack:///./commons/fields.html","webpack:///./commons/index.css?7945","webpack:///./commons/index.js","webpack:///./commons/inputs.html","webpack:///./commons/layouts.html","webpack:///./commons/pipes.js","webpack:///./commons/support.js","webpack:///./commons/table.html","webpack:///./commons/viewport.html","webpack:///./index.js","webpack:///./lib/compile.js","webpack:///./lib/component.js","webpack:///./lib/component.utils.js","webpack:///./lib/dom.attrs.js","webpack:///./lib/dom.manager.js","webpack:///./lib/element.js","webpack:///./lib/fragment.js","webpack:///./lib/index.js","webpack:///./lib/register.js","webpack:///./lib/render.js","webpack:///./lib/resolve.js","webpack:///./lib/xml.js","webpack:///./commons/index.css","webpack:///./node_modules/css-loader/dist/runtime/api.js","webpack:///./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js","webpack:///./ultis/arr.js","webpack:///./ultis/date.js","webpack:///./ultis/fn.js","webpack:///./ultis/index.js","webpack:///./ultis/obj.js","webpack:///./ultis/str.js","webpack:///./ultis/url.js"],"names":["types","window","commonTypes","loadTemplates","templates","Store","resources","commonPipes","res","launch","template","top","title","sitemap","id","name","value","key","FIELD_TYPES","bool","FormField","form","field","data","change","type","String","capitalize","error","fields","disabled","undefined","caption","Form","Object","keys","map","NavigationService","prevHash","hashchange","hash","location","slice","emit","addEventListener","setTimeout","removeEventListener","d","urlParse","target","path","params","state","reset","urlStringify","update","Service","props","$","assign","ref","lookupService","app","up","args","console","log","message","code","handler","handleError","source","p","def","ServiceWorker","Function","assert","api","scope","push","register","then","registration","registered","ready","ev","onMessage","subscribe","fallback","fn","pushManager","withPushManager","getSubscription","ss","unsubscribe","saveSubscription","e","urlBase64ToUint8Array","base64String","padding","repeat","length","base64","replace","rawData","atob","Uint8Array","from","char","charCodeAt","Notification","permission","applicationServerKey","vapidPublicKey","userVisibleOnly","subscription","toJSON","err","payload","navigator","serviceWorker","R","forEach","s","_","templ","NAME","TEMPLATE","trim","$pipes","values","supportTypes","formTypes","elements","table","viewport","layouts","inputs","x","pre","track","y","ID","dot","k","includes","n","not","isUndefined","isTrue","isFalse","or","and","equals","greater","plus","alt","minus","multiply","str","arr","Array","obj","date","format","Date","orNow","time","formatTime","Delay","isDone","action","period","Invoke","Loader","reload","val","trigger","into","callback","result","ErrorHandlingService","show","mode","ToastService","close","closeAfter","VALUES","RE_SINGLE_PLACEHOLDER","RE_PLACEHOLDER","pipe","split","apply","impl","a","prop","ex","withPipes","pipes","c","v","initialValue","reduce","r","pk","call","compileExpression","resourceExpression","match","placeholder","stringInterpolation","fnx","pattern","expr","idx","intrpltn","pipec","assignKeyValue","acc","makeApplicator","get","hasSlot","content","tag","filterMapKey","src","Map","set","compileFor","attrs","uid","nodes","itemId","$spec","inits","connect","rr","$data","owner","updates","$nodes","emptyNode","find","compileNode","filter","loadingNode","itemNode","compileIf","aIf","iff","neg","applicator","gttr","$then","ifElse","ifThen","compileTag","compile","has","aProps","getter","v2","ekey","emitter","cb","initials","node","Component","Ctor","options","parent","isElementary","Element","hidden","defer","render","resolveTemplate","constructor","$TEMPLATE","isInited","init","all","f","hotValue","cancel","Promise","done","children","defered","Î”","changed","notify","upAsync","entries","their","setter","toUpperCase","propId","propGetter","listeners","notifying","uuid","nextId","refId","applyValue","event","warn","method","methodName","ReferenceError","COUNTERS","$weak","counter","$containerElement","$p","elt","COUNTER","fnId","promise","racer","raceCondition","akey","$propFnMap","instant","bound","bind","gettr","fn0","deep","camelize","sep","jn","i","join","DOM_SETTERS","textContent","className","selected","checked","$dataset","dataset","click","setAttribute","$attributes","blur","dblclick","scroll","touchstart","h","pageX","changedTouches","screenX","pageY","screenY","touch","hs","active","stop","xx","yy","dx","dy","getAttribute","keypress","keyCode","focus","enter","toggle","DOM_VALUE_COMPARATORS","mine","applyAttributes","theirs","mines","prototype","hasOwnProperty","cleanupAttributes","fnValue","removeAttribute","append","before","parentElement","appendChild","insertBefore","DomAppManager","rootElement","document","body","E","createTextNode","createElement","removeChild","cursor","nextSibling","firstChild","previousSibling","next","onCreateElement","onDoneElement","delta","onRenderElement","Fragment","FragmentSlot","ocontent","otag","vv","FragmentForItem","FragmentFor","Error","index","$ownerImpl","create","$owner","FragmentIf","FragmentTag","allFragments","registerTypes","concat","requestAnimationFrame","fnName","ctor","exec","toString","REGISTRY","reg","ctr","text","T","parseXML","getByTag","$content","size","cc","ch","tmpl","m","t","RE_XML_ENTITY","RE_XML_COMMENT","RE_ATTRS","RE_ESCAPE_XML_ENTITY","RE_XML_TAG","SINGLE_TAGS","SUBST_XML_ENTITY","amp","gt","lt","quot","nbsp","ESCAPE_XML_ENTITY","RE_EMPTY","FN_ESCAPE_XML_ENTITY","FN_XML_ENTITY","substring","fromCharCode","decodeXmlEntities","escapeXml","skipQoutes","UID","parseAttrs","stringifyAttrs","Node","stringify","tab","sattrs","ssubs","stext","_s","ctx","lastIndex","addChild","setText","input","Math","max","min","shift","unshift","getChild","module","exports","useSourceMap","list","item","cssWithMappingToString","modules","mediaQuery","dedupe","alreadyImportedModules","_i","cssMapping","btoa","sourceMapping","toComment","sourceURLs","sources","sourceRoot","sourceMap","unescape","encodeURIComponent","JSON","EMPTY","freeze","b","groupBy","fieldFn","iter","entry","slot","count","subs","items","isArray","sortBy","property","order","substr","compare","aa","bb","sort","toHash","idKey","valKey","isKeyFn","pad","dayNames","dayNamesShort","dateLocales","ru","monthNames","monthNamesShort","daysInMonth","month","year","getDate","monthName","dateFractions","fractions","getFullYear","getMonth","getHours","getMinutes","getSeconds","getMilliseconds","parseISO8601String","timebits","tz","parseInt","getTimezoneOffset","utcdate","UTC","parseFloat","narrow","getTime","toDate","seconds","nanoseconds","DATE_FORMATTERS","hh","ii","hi","dd","w","getDay","ww","mmmm","mmm","mm","yyyy","ll","firstOfWeek","formatTimezone","tzOffset","toNumber","Number","ErrorType","errorType","compose","ff","x0","reduceRight","swap","curry","_curry","args0","lengthLimit","fx","guid","s4","floor","random","o","isEmpty","dig","steps","wrap","tail","pos","lastIndexOf","lastTail","head","indexOf","fill","mirror","snakeCase","proper","upper","decodeValue","param","decodeURIComponent","encodeValue","VALUE_MAP","parse","num","isNaN"],"mappings":"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","file":"app.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(this, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n","export default \"<body>\\n    <template id=\\\"App\\\">\\n        <Store ui:ref=\\\"store\\\" />\\n        <NavigationService ui:ref=\\\"nav\\\" />\\n        <ViewPort caption=\\\":top.title\\\" sidebarWidth=\\\"300\\\">\\n            <ViewPort:aside>\\n                <NavTree data=\\\":top.sitemap\\\" />\\n            </ViewPort:aside>\\n            <PageRouter ui:props=\\\"<-nav.route\\\" />\\n        </ViewPort>\\n    </template>\\n\\n    <template id=\\\"Navbar\\\">\\n        <header class=\\\"navbar bg-primary\\\" style=\\\"min-height:48px\\\">\\n            <section class=\\\"navbar-section mx-2\\\">\\n                <h4 class=\\\"m-1\\\" style=\\\"vertical-align: middle;\\\" ui:if={caption}>{caption}</h4>\\n                <ui:slot />\\n            </section>\\n            <section class=\\\"navbar-center\\\" ui:if={logo}>\\n                <img src={logo} alt=\\\"\\\" height=\\\"40\\\" width=\\\"140\\\" />\\n            </section>\\n            <section class=\\\"navbar-section mx-2\\\">\\n                <ui:slot id=\\\"right\\\" />\\n                <UserAvatar ui:props={user} ui:if={user} />\\n            </section>\\n        </header>\\n    </template>\\n\\n    <template id=\\\"NavTree\\\">\\n        <ul class=\\\"nav\\\">\\n            <li class=\\\"nav-item {item.class}\\\" ui:for=\\\"item of data\\\">\\n                <NavLink href={item.id}>\\n                    <span>{item.name}</span>\\n                    <span ui:if={item.label} class=\\\"label label-error\\\">{item.label}</span>\\n                </NavLink>\\n                <NavTree ui:if={item.subs} data={item.subs} />\\n            </li>\\n        </ul>\\n    </template>\\n\\n    <template id=\\\"MainPage\\\">\\n        <Navbar caption=\\\"Gallery\\\" />\\n        <Panel caption=\\\"Icons\\\">\\n            <!-- <LoadingIndicator /> -->\\n            Using Font Awesome\\n            <Icon type=\\\"cog\\\" />\\n        </Panel>\\n        <Panel caption=\\\"Buttons\\\">\\n            <Button title=\\\"Default\\\" trackId=\\\"action1\\\" />\\n            <Button icon=\\\"cog\\\" title=\\\"Large primary with icon\\\" primary large />\\n            <Button icon=\\\"123\\\" title=\\\"Link\\\" link />\\n        </Panel>\\n        <Panel caption=\\\"Panel\\\" hint=\\\"with hint\\\">\\n            here...\\n        </Panel>\\n    </template>\\n\\n    <template id=\\\"TodoPage\\\">\\n        <Navbar caption=\\\"To-Do\\\" />\\n        <Panel caption=\\\"Todo\\\">\\n            <Tabs value=\\\"<-store.tab\\\" data=\\\":top.sitemap\\\" action=\\\"->store.select\\\" />\\n        </Panel>\\n    </template>\\n</body>\";","import { launch, loadTemplates } from '../index.js';\nimport templates from './app.html';\nimport res from './res';\nimport { Store } from './store.js';\n\nconst types = [\n    ...window.commonTypes,\n    ...loadTemplates(templates),\n    Store\n]\n\nconst resources = {\n    ...window.commonPipes,\n    ...res\n} \n\nlaunch({ template: '<App/>', types, resources });","export default {\n    top: {\n        title: 'The Sample',\n        sitemap: [\n            { id: 'main', name: 'Main' },\n            { id: 'todo', name: 'To-Do' },\n        ],\n    }\n}","export class Store {\n    onSelect ({ id, value, key='tab' }) {\n        return {\n            [key]: value || id\n        }\n    }\n }","\nconst FIELD_TYPES = {\n  bool: 'SwitchField',\n};\n\nexport class FormField {\n  get TEMPLATE() {\n    return /* html */ `\n    <ui:fragment>\n      <ui:tag tag={fieldType} ui:props={fieldProps} onChange={onChange}/>\n    </ui:fragment>`;\n  }\n\n  onChange({ value }) {\n    const form = this.form\n    const field = this.field\n    const id = field.id\n    form.data = { ...form.data, [id]: value }\n    form.change && form.change(form.data);\n  }\n\n  get fieldType() {\n    const type = this.field.type || 'text'\n    return FIELD_TYPES[type] || (String.capitalize(type) + 'Field')\n  }\n\n  get fieldProps() {\n    const field = this.field\n    const form = this.form\n    const id = field.id\n    const data = form.data || {};\n    const value = data[id];\n    return {\n      ...field,\n      error: (form.error && form.error.fields && form.error.fields[id]) || null,\n      get disabled() { return field.disabled && field.disabled(this.value, this.data) },\n      value: value === undefined ? null : value,\n      caption: field.caption || field.name,\n      data,\n    };\n  }\n}\n\nexport class Form {\n  get TEMPLATE() {\n    return /* html */ `\n    <div autocomplete=\"off\" class=\"form-horizontal\">\n        <FormField ui:for=\"field of fields\" field={field} form={form}/>\n    </div>`;\n  }\n  getForm() {\n    return this;\n  }\n  getFields() {\n    return this.fields || Object.keys(this.data).map(id => ({ id, caption: id }));\n  }\n}\n\n","import { Service } from './Service';\n\nexport class NavigationService extends Service {\n  init() {\n    this.prevHash = ''\n    this.hashchange = () => {\n      const hash = window.location.hash.slice(1);\n      if (hash[0] === '/' && hash !== this.prevHash) {\n        this.emit('this.hash', { value: hash.slice(1) });\n        this.prevHash = hash\n      } else if (!this.prevHash) {\n        this.emit('this.hash', { value: 'main' });\n        this.prevHash = '/main'\n      }\n    }\n    window.addEventListener('hashchange', this.hashchange);\n    setTimeout(() => this.hashchange(), 0);\n  }\n\n  done() {\n    window.removeEventListener('hashchange', this.hashchange)\n  }\n\n  update(d) {\n    const { target, path = ['*'], params } = Object.urlParse(d);\n    const state = {\n      target: (!target || target === '*' ? this.target : target) || 'main',\n      path: path[0] === '*' ? this.path : path,\n      params: params.reset ? { ...params, reset: null } : { ...this.params, ...params }\n    }\n    window.location.hash = this.prevHash = '/' + Object.urlStringify(state)\n    return state\n  }\n\n  getRoute() {\n    return {\n      target: this.target,\n      path: this.path,\n      params: this.params\n    };\n  }\n\n  onHash({ value }) { return this.update(value); }\n  onParams(params) { return this.update({ params: { ...params, data: null } }); }\n}\n\n","export class Service {\n    constructor(props, $) {\n        Object.assign(this, {\n            ref: $.ref,\n            lookupService: (ref) => $.app ? $.app[ref] : null,\n            up: (...args) => $.up(...args),\n            emit: (...args) => $.emit(...args),\n        });\n    }\n\n    log(...args) {\n        console.log(this.ref + ': ', ...args)\n    }\n\n    handleError({ message = '', code = '' }) {\n        // may  overriden from props\n        const handler = this.lookupService('errorHandler');\n        if (handler) {\n            handler.handleError({ message, code, source: this.ref });\n        } else {\n            console.error(this.ref + ': ERROR: ', message, code)\n        }\n    }\n\n    safe(p, def) {\n        return p.catch(error => {\n            this.handleError(error);\n            return def ? def(error) : { error };\n        })\n    }\n}","import { Service } from './Service';\n\nexport class ServiceWorker extends Service {\n\n    get api() {\n        return navigator.serviceWorker\n    }\n\n    init() {\n        try {\n\n            Function.assert(this.api, 'Service Workers are not supported')\n\n            const { source = '/service-worker.js', scope = '/', push } = this;\n\n            this.api.register(source, { scope })\n                .then((registration) => this.registered(registration))\n                .then(() => this.ready(() => this.log('Service Worker Ready')))\n\n            this.api.addEventListener('message', ev => this.onMessage(ev));\n\n            if (push) {\n                this.subscribe();\n            }\n\n        } catch (error) {\n            this.fallback(error)\n        }\n    }\n\n    // ensures that `fn` executed when api is ready\n    ready(fn) {\n        return this.api.ready.then(fn);\n    }\n\n    fallback(error) {\n        this.log(error);\n    }\n\n    // hook on registered\n    registered(registration) {\n        this.log('Service Worker Registered');\n        return registration\n    }\n    /**\n     * Push\n     */\n\n    withPushManager(fn) {\n        return this.ready(({ pushManager }) => pushManager).then(fn)\n    }\n\n    unsubscribe() {\n        this.withPushManager(pushManager => pushManager.getSubscription())\n            .then((ss) => ss && ss.unsubscribe())\n            .then(() => this.saveSubscription())\n            .catch(function (e) {\n                console.log('Error thrown while unsubscribing from  push messaging.', e);\n            })\n    }\n\n    subscribe() {\n        function urlBase64ToUint8Array(base64String) {\n            const padding = '='.repeat((4 - base64String.length % 4) % 4);\n            const base64 = (base64String + padding)\n                .replace(/-/g, '+')\n                .replace(/_/g, '/')\n                ;\n            const rawData = window.atob(base64);\n            return Uint8Array.from([...rawData].map((char) => char.charCodeAt(0)));\n        }\n        if (Notification.permission === \"granted\") {\n            /* do our magic */\n        } else if (Notification.permission === \"blocked\") {\n            /* the user has previously denied push. Can't reprompt. */\n        } else {\n            /* show a prompt to the user */\n        }\n        const applicationServerKey = urlBase64ToUint8Array(this.vapidPublicKey);\n        this.withPushManager(pushManager => pushManager.getSubscription()\n            // .then((ss) => ss && ss.unsubscribe())\n            .then(ss => ss || pushManager.subscribe({\n                userVisibleOnly: true,\n                applicationServerKey,\n            }))\n            .then((subscription) => this.saveSubscription(subscription.toJSON()))\n            .catch((err) => {\n                if (Notification.permission === 'denied') {\n                    this.log('The user has blocked notifications.');\n                }\n                this.handleError(err)\n            })\n        );\n    }\n\n    // to be overriden from props\n    saveSubscription(ss) {\n        this.subscription = ss;\n    }\n\n    /**\n     * Intercommunication between service worker.\n     */\n\n    // handles a message posted from Service worker.\n    onMessage(payload) {\n        this.log('onMessage', payload);\n    }\n}\n","export default \"<template id=\\\"Icon\\\">\\n    <i class=\\\"fa{bundle|or:s} fa-{type} {class}\\\" style={style} data={data} click={click}></i>\\n</template>\\n\\n<template id=\\\"Img\\\">\\n    <img src={src|equals:*|then:@default:@src} alt={alt} class=\\\"img {class}\\\" style={style} />\\n</template>\\n\\n<template id=\\\"Avatar\\\">\\n    <figure class=\\\"avatar {large|then:avatar-lg}\\\">\\n        <Img src={src}\\n             alt={alt}\\n             default=\\\"data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==\\\" />\\n    </figure>\\n</template>\\n\\n<template id=\\\"Button\\\">\\n    <button class=\\\"btn btn-{mode} {primary|then:btn-primary} {disabled|or:@busy|then:disabled} {class} {large|then:btn-lg} {link|then:btn-link} c-hand\\\"\\n            style={style}\\n            data={data}\\n            click={action|track:@trackId:@title}>\\n        <i ui:if=\\\"{busy}\\\" class=\\\"loading mx-2\\\"></i>\\n        <Icon ui:if=\\\"icon\\\" bundle={iconBundle} type={icon} class=\\\"mx-2\\\" />\\n        <span ui:if=\\\"title\\\" style=\\\"white-space:nowrap; overflow: hidden; text-overflow: ellipsis;\\\">{title}</span>\\n    </button>\\n</template>\\n\\n<template id=\\\"BigRedButton\\\">\\n    <button class=\\\"btn2 {tooltip|then:tooltip} tooltip-left fixed bg-primary circle c-hand {class}\\\"\\n            style=\\\"position: fixed;border:none; right:1.5rem; bottom:1.5rem; width: 2.5rem; height: 2.5rem; z-index:5;\\\"\\n            data={data} data-tooltip={tooltip|or:} click={action|track:@trackId:big}>\\n        <Icon type={icon|or:plus} />\\n    </button>\\n</template>\\n\\n<template id=\\\"Popover\\\">\\n    <div class=\\\"popover popover-right\\\">\\n        <ui:slot />\\n        <div class=\\\"popover-container\\\">\\n            <div class=\\\"card\\\">\\n                <div class=\\\"card-header\\\">\\n                    <ui:slot id=\\\"body\\\" />\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</template>\\n\\n<template id=\\\"Modal\\\">\\n    <div class=\\\"modal modal {open|then:active}\\\">\\n        <a class=\\\"modal-overlay\\\" aria-label=\\\"Close\\\" data={data} click={close}></a>\\n        <div class=\\\"modal-container\\\">\\n            <div class=\\\"modal-header\\\">\\n                <a class=\\\"btn btn-clear float-right\\\" aria-label=\\\":close\\\" data={data} click={close}></a>\\n                <div class=\\\"modal-title h5\\\" ui:if={title}>{title}</div>\\n                <ui:slot id=\\\"header\\\" />\\n            </div>\\n            <div class=\\\"modal-body\\\" style=\\\"max-height: 70vh;\\\">\\n                <div class=\\\"content\\\">\\n                    <ui:slot />\\n                </div>\\n            </div>\\n            <div class=\\\"modal-footer\\\">\\n                <ui:slot id=\\\"footer\\\" />\\n            </div>\\n        </div>\\n    </div>\\n</template>\\n\\n<template id=\\\"Tabs\\\">\\n    <ul class=\\\"tab tab-block\\\">\\n        <li class=\\\"tab-item {item.id|equals:@value|then:active} c-hand\\\" ui:for=\\\"item of data\\\">\\n            <a data-id={item.id} click={action}>\\n                <Icon ui:if={item.icon} type={item.icon} bundle={item.iconBundle} class=\\\"mx-2\\\" />\\n                {item.name}\\n            </a>\\n        </li>\\n    </ul>\\n</template>\";","export default \"<body id=\\\"app\\\">\\n    <template id=\\\"FieldItem\\\">\\n        <div class=\\\"columns form-group {error|then:has-error} {class}\\\">\\n            <div class=\\\" col-4 col-sm-12\\\">\\n                <label class=\\\"form-label\\\" for=\\\"input-example-1\\\">\\n                    {caption}\\n                    <sup ui:if={required}\\n                         class=\\\"text-error\\\">âœ±</sup>\\n                </label>\\n            </div>\\n            <div class=\\\"col-8 col-sm-12\\\">\\n                <ui:slot />\\n                <p class=\\\"form-input-hint\\\" ui:if={error}>{error}</p>\\n            </div>\\n        </div>\\n    </template>\\n\\n    <template id=\\\"TextField\\\">\\n        <FieldItem caption={caption} error={error} required={required}>\\n            <input class=\\\"form-input\\\"\\n                   type=\\\"text\\\"\\n                   disabled={disabled}\\n                   placeholder={placeholder|or:@caption}\\n                   value={value}\\n                   change={onChange}>\\n        </FieldItem>\\n    </template>\\n\\n    <template id=\\\"DateField\\\">\\n        <FieldItem caption={caption} error={error} required={required}>\\n            <input class=\\\"form-input\\\"\\n                   disabled={disabled}\\n                   type=\\\"date\\\"\\n                   placeholder={caption}\\n                   value={value}\\n                   change={onChange}>\\n        </FieldItem>\\n    </template>\\n\\n    <template id=\\\"DateTimeField\\\">\\n        <FieldItem caption=\\\"{caption}\\\" error={error} required={required}>\\n            <input class=\\\"form-input\\\"\\n                   disabled={disabled}\\n                   type=\\\"datetime-local\\\"\\n                   placeholder={caption}\\n                   value={value|date:yyyy-mm-ddTt}\\n                   change={onChange}>\\n        </FieldItem>\\n    </template>\\n\\n    <template id=\\\"NumberField\\\">\\n        <FieldItem caption={caption} error={error} required={required}>\\n            <input class=\\\"form-input\\\"\\n                   disabled={disabled}\\n                   type=\\\"number\\\"\\n                   placeholder={caption}\\n                   value={value}\\n                   change={onChange}>\\n        </FieldItem>\\n    </template>\\n\\n    <template id=\\\"TextareaField\\\">\\n        <FieldItem caption={caption} error={error} required={required}>\\n            <textarea\\n                      class=\\\"form-input\\\"\\n                      style=\\\"min-height: 15vw\\\"\\n                      disabled={disabled} placeholder={caption} rows=\\\"3\\\" change={onChange} value={value}></textarea>\\n        </FieldItem>\\n    </template>\\n\\n    <template id=\\\"SwitchField\\\">\\n        <div class=\\\"form-group\\\">\\n            <div class=\\\"col-sm-12\\\">\\n                <label class=\\\"form-switch\\\">\\n                    <span>{caption}</span>\\n                    <input type=\\\"checkbox\\\" toggle={onChange} data={data} checked={value|not|not}>\\n                    <i class=\\\"form-icon\\\"></i>\\n                </label>\\n            </div>\\n        </div>\\n    </template>\\n\\n    <template id=\\\"EnumField\\\">\\n        <FieldItem caption={caption} class={class} error={error} required={required}>\\n            <Select class=\\\"form-select\\\"\\n                    change={onChange}\\n                    value={value|or:@defaultValue}\\n                    data={data}\\n                    options=\\\":enums.{typeSpec}\\\"\\n                    emptyCaption={emptyCaption}\\n                    disabled={disabled} />\\n        </FieldItem>\\n    </template>\\n\\n    <template id=\\\"SelectField\\\">\\n        <FieldItem caption={caption} class={class} error={error} required={required}>\\n            <Select class=\\\"form-select\\\"\\n                    change={onChange}\\n                    value={value|or:@defaultValue}\\n                    data={data}\\n                    options={options}\\n                    emptyCaption={emptyCaption}\\n                    disabled={disabled} />\\n        </FieldItem>\\n    </template>\\n\\n    <template id=\\\"RadioField\\\">\\n        <FieldItem caption={caption} error={error} required={required}>\\n            <RadioGroup change={onChange}\\n                        value={value} data={data} options=\\\":enums.{typeSpec}\\\"\\n                        disabled={disabled} />\\n        </FieldItem>\\n    </template>\\n\\n    <template id=\\\"ReferenceField\\\">\\n        <FieldItem caption={caption} error={error} required={required}>\\n            <Loader from=\\\"-> references.{typeSpec}Search\\\"\\n                    data-value={keyword.value|orDataPropValueByKey:keyword}\\n                    trigger={keyword.value}\\n                    into=\\\"->options\\\" />\\n            <Loader from=\\\"-> references.{typeSpec}Entry\\\" data-id={value} trigger={value} into=\\\"->entry\\\" />\\n            <ReferenceInput change={onChange}\\n                            value={value} entry={entry.data}\\n                            onKeyword=\\\"->keyword\\\" keyword={keyword.value|orDataPropValueByKey:keyword}\\n                            onSelectMenuItem=\\\"->entry\\\"\\n                            options={options.data}\\n                            disabled={disabled} />\\n        </FieldItem>\\n    </template>\\n\\n    <template id=\\\"RemoteEnumField\\\">\\n        <FieldItem caption={caption} error={error} required={required}>\\n            <Loader from=\\\"-> references.{typeSpec}Enum\\\" data={data} into=\\\"->options\\\" />\\n            <Select class=\\\"form-select\\\" change={onChange} value={value} data={options.data} disabled={disabled} />\\n        </FieldItem>\\n    </template>\\n\\n</body>\";","var api = require(\"!../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../node_modules/css-loader/dist/cjs.js!./index.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","import  './index.css';\nimport * as supportTypes from './support.js';\nimport $pipes from './pipes.js';\n\nimport elements from './elements.html';\nimport table from './table.html';\nimport inputs from './inputs.html';\nimport fields from './fields.html';\nimport layouts from './layouts.html';\nimport viewport from './viewport.html';\nimport { NavigationService } from './NavigationService';\nimport { ServiceWorker } from './ServiceWorker';\n\nimport * as formTypes from './Form';\n\nexport * from \"./Service\"\n\nexport const loadTemplates = (...args) => {\n    const R = [];\n    args.forEach(s => s.replace(/<template\\sid=\"(.+)\">([\\s\\S]*?)<\\/template>/gm,\n        (_, id, templ) => R.push({ NAME: id, TEMPLATE: `<ui:fragment>${templ.trim()}</ui:fragment>` })));\n    return R;\n}\n\nexport const commonPipes = $pipes;\n\nexport const commonTypes = [\n    ServiceWorker, NavigationService,\n    ...Object.values(supportTypes),\n    ...Object.values(formTypes),\n    ...loadTemplates(elements, table, fields, viewport, layouts, inputs)\n];\n\nif (typeof window === 'object') {\n    window.commonTypes = commonTypes;\n    window.loadTemplates = loadTemplates;\n    window.commonPipes = commonPipes;\n}","export default \"<body>\\n    <template id=\\\"Select\\\">\\n        <select class=\\\"{class}\\\" change={change} disabled={disabled} data={data}>\\n            <option selected={value|not} value=\\\"\\\" ui:if={value|not|or:@emptyCaption}>{emptyCaption}</option>\\n            <option ui:for=\\\"option of options\\\" selected={option.id|equals:@value} value={option.id}>\\n                {option.name}\\n            </option>\\n        </select>\\n    </template>\\n\\n    <template id=\\\"RadioGroup\\\">\\n        <div class=\\\"{class}\\\">\\n            <label class=\\\"form-radio\\\" ui:for=\\\"option of options\\\">\\n                <input type=\\\"radio\\\" name={id|or:rg}\\n                       value={option.id}\\n                       checked={option.id|equals:@value} change={change} data={data}\\n                       disabled={disabled}>\\n                <i class=\\\"form-icon\\\"></i>{option.name}\\n            </label>\\n        </div>\\n    </template>\\n\\n    <template id=\\\"Dropdown\\\">\\n        <div class=\\\"dropdown\\\">\\n            <a href=\\\"#\\\" class=\\\"btn btn-link dropdown-toggle\\\" tabindex=\\\"0\\\">\\n                {data|selectedName}<i class=\\\"icon icon-caret\\\"></i>\\n            </a>\\n            <!-- menu component -->\\n            <ul class=\\\"menu\\\" style=\\\"right:0;left:auto;\\\">\\n                <li ui:for=\\\"item of data\\\" class=\\\"menu-item {item.id|equals:@value|then:active}\\\"\\n                    data-id={item.id}\\n                    data-name={item.name}\\n                    click={change}>\\n                    <a>{item.name}</a>\\n                </li>\\n            </ul>\\n        </div>\\n    </template>\\n\\n    <template id=\\\"DateTimeInput\\\">\\n        <input class=\\\"form-input flatpickr-input\\\"\\n               init={:support.initFlatpickr}\\n               disabled={disabled}\\n               type=\\\"text\\\"\\n               placeholder={placeholder}\\n               value={value|support.setFlatpickrValue}\\n               change={change}>\\n    </template>\\n\\n    <template id=\\\"SearchBar\\\">\\n        <span class=\\\"ant-input-search ant-input-affix-wrapper\\\">\\n            <input placeholder=\\\"ÐŸÐ¾Ð¸ÑÐº...\\\" class=\\\"ant-input\\\" type=\\\"text\\\"\\n                   value={value} enter={action}\\n                   style=\\\"min-height:40px;\\\">\\n            <span class=\\\"ant-input-suffix\\\">\\n                <i class=\\\"anticon anticon-search ant-input-search-icon\\\" style=\\\"margin-top: 4px;\\\"></i>\\n            </span>\\n        </span>\\n    </template>\\n\\n    <template id=\\\"ReferenceInput\\\">\\n        <div class=\\\"form-autocomplete\\\">\\n            <div class=\\\"form-input has-icon-right\\\" data-showMenu={showMenu|not} click=\\\"->\\\">\\n                <div>{entry.fullNameRu}</div>\\n                <i class=\\\"form-icon icon icon-edit c-hand\\\"></i>\\n            </div>\\n            <Modal ui:if={showMenu} open=\\\"true\\\" title=\\\"Ð’Ñ‹Ð±Ð¾Ñ€ Ð¾Ð¿Ñ†Ð¸Ð¸ {title}\\\" data-showMenu=\\\"false\\\" close=\\\"->\\\">\\n                <div class=\\\"menu\\\" style=\\\"position:sticky;top:-20;z-index:101; border-bottom: none; box-shadow: unset\\\">\\n                    <div class=\\\"form-group has-icon-right\\\">\\n                        <input class=\\\"form-input\\\" type=\\\"text\\\"\\n                               value={keyword} placeholder=\\\"search...\\\" change={onKeyword}>\\n                        <i class=\\\"form-icon icon icon-cross c-hand\\\" data-value=\\\"\\\" click={onKeyword}></i>\\n                    </div>\\n                    <div ui:if={options} class=\\\"menu-item\\\">\\n                        <div class=\\\"tile tile-centered mx-1\\\">\\n                            <b class=\\\"tile-content\\\">ÐÐ°Ð¹Ð´ÐµÐ½Ð¾: {options.length}</b>\\n                        </div>\\n                    </div>\\n                </div>\\n                <ul class=\\\"menu\\\" style=\\\"position:unset; border-top: none; box-shadow: unset\\\">\\n                    <li class=\\\"menu-item\\\" ui:for=\\\"item of options\\\" data-showMenu=\\\"false\\\" click=\\\"->\\\">\\n                        <div click={change} data-value={item.id}>\\n                            <div class=\\\"tile tile-centered mx-1\\\">\\n                                <figure class=\\\"avatar avatar-xs bg-primary\\\" data-initial={item.fullNameRu|initials}>\\n                                </figure>\\n                                <div class=\\\"tile-content\\\">{item.fullNameRu}, {item.birthday|date}</div>\\n                            </div>\\n                        </div>\\n                    </li>\\n                </ul>\\n            </Modal>\\n        </div>\\n    </template>\\n</body>\";","export default \"<body>\\n\\n    <template id=\\\"Grid\\\">\\n        <div class=\\\"columns {class}\\\">\\n            <ui:slot />\\n        </div>\\n    </template>\\n\\n    <template id=\\\"Col\\\">\\n        <div class=\\\"col-{size|or:6} col-sm-12 {class}\\\">\\n            <ui:slot />\\n        </div>\\n    </template>\\n    <template id=\\\"Centroid\\\">\\n        <div class=\\\"{class}\\\" style=\\\"display: flex;align-items: center;justify-content: center;{style}\\\">\\n            <ui:slot />\\n        </div>\\n    </template>\\n\\n    <template id=\\\"FlexBox\\\">\\n        <div class=\\\"{class}\\\" style=\\\"display: flex;align-items: stretch;justify-content:space-around;{style}\\\">\\n            <ui:slot />\\n        </div>\\n    </template>\\n\\n    <template id=\\\"Tile\\\">\\n        <div class=\\\"tile {centered|then:tile-centered} m-2 {class}\\\">\\n            <div class=\\\"tile-icon\\\" ui:if={image}>\\n                <Avatar src={image} />\\n            </div>\\n            <div class=\\\"tile-icon\\\" ui:if={icon}>\\n                <Icon type={icon} />\\n            </div>\\n            <div class=\\\"tile-content\\\">\\n                <div class=\\\"tile-title text-bold\\\" ui:if=\\\"title\\\">{title}</div>\\n                <div class=\\\"tile-subtitle\\\" ui:if=\\\"subtitle\\\">{subtitle}</div>\\n                <ui:slot />\\n            </div>\\n            <div class=\\\"tile-action btn-group\\\" ui:if=\\\"slot(actions)\\\">\\n                <ui:slot id=\\\"actions\\\" />\\n            </div>\\n        </div>\\n    </template>\\n    <template id=\\\"Panel\\\">\\n        <ui:fragment>\\n            <h6 class=\\\"mt-2 pt-2 px-2 mx-2 text-gray\\\" ui:if=\\\"caption\\\">{caption}</h6>\\n            <div class=\\\"panel mx-2 {class}\\\" style={style}>\\n                <small class=\\\"p-2 bg-secondary\\\" ui:if={hint}>{hint}</small>\\n                <div class=\\\"panel-header\\\" ui:if=\\\"slot(title)\\\">\\n                    <div class=\\\"panel-title\\\">\\n                        <ui:slot id=\\\"title\\\" />\\n                    </div>\\n                </div>\\n                <div class=\\\"panel-nav\\\" ui:if=\\\"slot(nav)\\\">\\n                    <ui:slot id=\\\"nav\\\" />\\n                </div>\\n                <div class=\\\"panel-body\\\">\\n                    <ui:slot />\\n                </div>\\n                <div class=\\\"panel-footer\\\" ui:if=\\\"slot(footer)\\\">\\n                    <ui:slot id=\\\"footer\\\" />\\n                </div>\\n            </div>\\n        </ui:fragment>\\n    </template>\\n    <template id=\\\"Card\\\">\\n        <div class=\\\"card\\\" style={style}>\\n            <div class=\\\"card-image\\\" ui:if={image}>\\n                <img src={image} class=\\\"img-responsive\\\" />\\n            </div>\\n            <div class=\\\"card-header\\\">\\n                <a ui:if={title} href={link}>\\n                    <h5 class=\\\"card-title\\\">{title}</h5>\\n                </a>\\n                <div ui:if={subtitle} class=\\\"card-subtitle text-gray\\\">{subtitle}</div>\\n                <ui:slot id=\\\"header\\\" />\\n            </div>\\n            <div class=\\\"card-body\\\">\\n                <ui:slot />\\n            </div>\\n            <div class=\\\"card-footer\\\">\\n                <ui:slot id=\\\"footer\\\" />\\n            </div>\\n        </div>\\n    </template>\\n\\n</body>\";","import '../ultis';\n\nexport default {\n  // system\n  log: (x, pre) => { console.log(pre || 'pipe', x); return x },\n  track: (fn, x, y) => (...args) => { console.log('track', x || y); return (fn || Function.ID)(...args) },\n  // eslint-disable-next-line no-debugger\n  debugger: () => { debugger; },\n\n  // data structures\n  dot: (x, k) => x ? x[k] : null,\n  includes: (x, p) => x.includes && x.includes(p),\n\n  // logical\n  then: (x, p = '', n = '') => x ? p : n,\n  not: x => !x,\n  isUndefined: x => typeof x === 'undefined',\n  isTrue: x => x===true,\n  isFalse: x => x===false,\n  or: (x, s) => x || s,\n  and: (x, s) => x && s,\n  \n  // math\n  equals: (x, p) => x == p,\n  greater: (x, p) => x > p,\n  plus: (x, alt) => (+x) + (+alt),\n  minus: (x, alt) => (+x) - (+alt),\n  multiply: (x, alt) => (+x) * (+alt),\n  \n  fn: Function,\n  str: String,\n  arr: Array,\n  obj: Object,\n  date: Object.assign((s, format) => Date.format(s, format), Date, {\n    orNow: x => x || (new Date()),\n    time: Date.formatTime,\n  }),\n};\n","import { Service } from \"./Service\"\n\nexport class Delay {\n  init() {\n    setTimeout(() => { if (!this.isDone) { this.action(this.data) } }, (this.period || 5) * 1000)\n  }\n}\nexport class Invoke {\n  init() {\n    this.action(this.data)\n  }\n}\nexport class Loader {\n  init() {\n    this.reload()\n  }\n  setTrigger(val) {\n    this.trigger = val\n    this.reload()\n  }\n  reload() {\n    const { from, data, into } = this;\n    if (from && into) {\n      from({ ...data, callback: (error, result) => into({ error, ...result }) })\n    }\n  }\n}\n\nexport class ErrorHandlingService extends Service {\n\n  handleError({ message = '', code, source = {} }) {\n    this.show({ message: source + ': ' + message, code, mode: 'error' });\n  }\n  show({ message = '', code = '', source }) {\n    console.error(source + ': ERROR: ', code, message);\n  }\n}\n\nexport class ToastService extends Service {\n  onSend({ data }) {\n    return {\n      top: { ...data, close: () => this.emit('this.close'), closeAfter: 5 }\n    }\n  }\n  onClose() {\n    return {\n      top: null\n    }\n  }\n}","export default \"<body>\\n    <template id=\\\"LoadingIndicator\\\">\\n        <div class=\\\"loading {large|then:loading-lg} {class}\\\" />\\n    </template>\\n\\n    <template id=\\\"EmptyData\\\">\\n        <div class=\\\"empty {class}\\\">\\n            <div class=\\\"empty-icon\\\">\\n                <Icon type={icon|or:people} />\\n            </div>\\n            <p class=\\\"empty-title h5\\\">{title}</p>\\n            <p ui:if={subtitle} class=\\\"empty-subtitle\\\">{subtitle}</p>\\n            <div class=\\\"empty-action\\\">\\n                <ui:slot />\\n            </div>\\n        </div>\\n    </template>\\n\\n    <template id=\\\"LoadableItems\\\">\\n        <LoadingIndicator class=\\\"empty\\\" ui:if=\\\"data|not\\\">\\n            <ui:else>\\n                <h5 class=\\\"error text-error\\\" ui:if=\\\"data.error\\\">{data.error.message|or:@data.error}</h5>\\n                <EmptyData title={emptyCaption|or:Empty} ui:if=\\\"data.length|not\\\">\\n                    <ui:else>\\n                        <div style={style} ui:for=\\\"item of data\\\">\\n                            <ui:tag tag={itemType} ui:props={item} item={item} context={context} action={action} />\\n                        </div>\\n                    </ui:else>\\n                </EmptyData>\\n            </ui:else>\\n        </LoadingIndicator>\\n    </template>\\n\\n    <template id=\\\"LoadableEntity\\\">\\n        <LoadingIndicator class=\\\"empty\\\" ui:if=\\\"data|not\\\">\\n            <ui:else>\\n                <h5 class=\\\"error text-error\\\" ui:if=\\\"data.error\\\">\\n                    <span>{data.error.message|or:@data.error}</span>\\n                    <ui:else>\\n                        <EmptyData title={emptyCaption|or:Empty} ui:if=\\\"data.id|not\\\">\\n                            <ui:else>\\n                                <ui:tag tag={type} data={data} context={context} action={action} />\\n                            </ui:else>\\n                        </EmptyData>\\n                    </ui:else>\\n                </h5>\\n            </ui:else>\\n        </LoadingIndicator>\\n    </template>\\n\\n    <template id=\\\"Cell\\\">\\n        <span class=\\\"\\\" style=\\\"padding-left: 0px;\\\">{value}</span>\\n    </template>\\n    <template id=\\\"EnumCell\\\">\\n        <span class=\\\"\\\"\\n              style=\\\"padding-left: 0px;\\\">:map.{typeSpec}.{value}</span>\\n    </template>\\n\\n    <template id=\\\"DateCell\\\">\\n        <span class=\\\"\\\" style=\\\"padding-left: 0px;\\\">{value|date}</span>\\n    </template>\\n\\n    <template id=\\\"Table\\\">\\n        <table style=\\\"position: relative;\\\">\\n            <thead class=\\\"table-thead\\\">\\n                <tr>\\n                    <th class=\\\"col-index\\\" style=\\\"position: sticky; top: -1;\\\"></th>\\n                    <th class=\\\"col-index\\\" style=\\\"position: sticky; top: -1;\\\" ui:for=\\\"item of columns\\\">\\n                        <span>{item.name}</span>\\n                        <div class=\\\"table-column-sorter\\\" ui:if=\\\"item.sortable\\\">\\n                            <span class=\\\"table-column-sorter-up off\\\" title=\\\"â†‘\\\" data-id=\\\"-{item.id}\\\"\\n                                  click={doSort}><i class=\\\"anticon anticon-caret-up\\\"></i></span>\\n                            <span class=\\\"table-column-sorter-down off\\\" title=\\\"â†“\\\" data-id={item.id} click={doSort}><i\\n                                   class=\\\"anticon anticon-caret-down\\\"></i></span>\\n                        </div>\\n                    </th>\\n                </tr>\\n            </thead>\\n            <TableRow ui:for=\\\"item of data\\\" data={item} selected={item.selected} columns={columns} kind={kind} />\\n        </table>\\n    </template>\\n\\n    <template id=\\\"TableRow\\\">\\n        <tbody class=\\\"table-tbody\\\">\\n            <tr class=\\\"table-row table-row-level-0\\\" style=\\\"position:sticky;\\\">\\n                <td class=\\\"col-index\\\" data-id={data.id} click={doItem}>\\n                    <div ui:if={expandable}\\n                         role=\\\"button\\\"\\n                         class=\\\"table-row-expand-icon table-row-expanded\\\"\\n                         aria-label=\\\"Collapse row\\\"\\n                         data-selected=\\\"false\\\" click=\\\"->\\\">\\n                        <ui:else>\\n                            <div role=\\\"button\\\"\\n                                 class=\\\"table-row-expand-icon table-row-collapsed\\\"\\n                                 aria-label=\\\"Expand row\\\"\\n                                 data-selected=\\\"true\\\" click=\\\"->\\\"></div>\\n                        </ui:else>\\n                    </div>\\n                </td>\\n                <td class=\\\"col-index\\\" ui:for=\\\"col of columns\\\">\\n                    <ui:tag tag=\\\"{col.type|str.capitalize}Cell\\\" ui:props={col} value={col.id|propObjectValueByKey}\\n                            data={data} />\\n                </td>\\n            </tr>\\n            <tr ui:if={expanded} class=\\\"table-expanded-row table-expanded-row-level-1\\\">\\n                <td class=\\\"\\\"></td>\\n                <td class=\\\"\\\" colspan=\\\"100\\\">\\n                    <ui:tag tag=\\\"{kind|str.capitalize}RowInsider\\\" data={data} />\\n                </td>\\n            </tr>\\n        </tbody>\\n    </template>\\n</body>\";","export default \"<body>\\n    <template id=\\\"ViewPort\\\">\\n        <ui:fragment>\\n            <ToastService ui:ref=\\\"toaster\\\" />\\n            <ErrorHandlingService ui:ref=\\\"errorHandler\\\" show=\\\"-> toaster.send\\\" />\\n            <ui:fragment ui:if=\\\"slot(aside)\\\">\\n                <Sidebar caption={caption} size={sidebarWidth}>\\n                    <Sidebar:aside>\\n                        <ui:slot id=\\\"aside\\\" />\\n                    </Sidebar:aside>\\n                    <main>\\n                        <Toast event=\\\"<- toaster.top\\\" />\\n                        <ui:slot />\\n                    </main>\\n                </Sidebar>\\n                <ui:else>\\n                    <main>\\n                        <Toast event=\\\"<- toaster.top\\\" />\\n                        <ui:slot />\\n                    </main>\\n                </ui:else>\\n            </ui:fragment>\\n        </ui:fragment>\\n    </template>\\n\\n    <template id=\\\"PageRouter\\\">\\n        <ui:tag tag=\\\"{target|str.capitalize|or:Main}Page\\\" ui:props={params} params={params} />\\n    </template>\\n\\n    <template id=\\\"Toast\\\">\\n        <div class=\\\"toast toast-{event.mode|or:@mode|or:primary}\\\"\\n             style=\\\"position:absolute;top:1rem;right:1rem;left:1rem;{style}\\\"\\n             ui:if=\\\"event\\\">\\n            <button class=\\\"btn btn-clear float-right\\\" click={event.close}></button>\\n            <p>{event.message}</p>\\n            <Delay ui:if={event.closeAfter} action={event.close} period={event.closeAfter} />\\n        </div>\\n    </template>\\n\\n    <template id=\\\"Sidebar\\\">\\n        <div class=\\\"off-canvas off-canvas-sidebar-show\\\">\\n            <a class=\\\"off-canvas-toggle btn btn-primary btn-action show-lg bg-red\\\"\\n               href=\\\"#sidebar\\\">\\n                <Icon type=\\\"bars\\\" />\\n            </a>\\n            <div id=\\\"sidebar\\\" class=\\\"off-canvas-sidebar\\\">\\n                <Aside caption={caption}>\\n                    <ui:slot id=\\\"aside\\\" />\\n                </Aside>\\n            </div>\\n            <a class=\\\"off-canvas-overlay\\\" href=\\\"#\\\"></a>\\n            <div class=\\\"off-canvas-content\\\">\\n                <ui:slot />\\n            </div>\\n        </div>\\n    </template>\\n\\n    <template id=\\\"Aside\\\">\\n        <aside style=\\\"display:flex; flex-direction: column; height: 100vh; width:{size|or:300}px\\\">\\n            <div class=\\\"text-center\\\" ui:if={caption}>\\n                <a href=\\\"#/main\\\">\\n                    <h5 class=\\\"p-2\\\">{caption}</h5>\\n                </a>\\n            </div>\\n            <div class=\\\"m-2\\\" style=\\\"flex:1; overflow-y: auto;\\\">\\n                <ui:slot />\\n            </div>\\n        </aside>\\n    </template>\\n\\n    <template id=\\\"Navbar\\\">\\n        <header class=\\\"navbar {class}\\\" style=\\\"min-height:48px\\\">\\n            <section class=\\\"navbar-section\\\">\\n                <div class=\\\"mx-2\\\">\\n                    <NavLink href={back} ui:if={back}>\\n                        <Button link class=\\\"text-primary\\\" icon=\\\"arrow-left\\\" title=\\\":action.back\\\" />\\n                    </NavLink>\\n                    <h4 class=\\\"m-1\\\" style=\\\"vertical-align: middle;\\\" ui:if={caption}>{caption}</h4>\\n                    <ui:slot id=\\\"left\\\" />\\n                </div>\\n            </section>\\n            <section class=\\\"navbar-center\\\" ui:if={logo}>\\n                <img src={logo} style=\\\"max-height:44px;\\\" />\\n            </section>\\n            <section class=\\\"navbar-section\\\">\\n                <div class=\\\"mx-2\\\">\\n\\n                    <ui:slot />\\n                </div>\\n\\n            </section>\\n        </header>\\n    </template>\\n\\n    <template id=\\\"NavTree\\\">\\n        <ul class=\\\"nav\\\">\\n            <li class=\\\"nav-item {item.class}\\\" ui:for=\\\"item of data\\\">\\n                <NavLink href={item.id}>\\n                    <span>{item.name}</span>\\n                    <span ui:if={item.label} class=\\\"label label-error\\\">{item.label}</span>\\n                </NavLink>\\n                <NavTree ui:if={item.subs} data={item.subs} />\\n            </li>\\n        </ul>\\n    </template>\\n\\n    <template id=\\\"NavLink\\\">\\n        <a data-value={href} click=\\\"-> nav.hash\\\" class=\\\"c-hand {class}\\\">\\n            <ui:slot />\\n        </a>\\n    </template>\\n</body>\";","export * from './lib';\nexport * from './commons';\n","\nconst VALUES = { true: true, false: false, null: null };\nconst RE_SINGLE_PLACEHOLDER = /^\\{([^}]+)\\}$/;\nconst RE_PLACEHOLDER = /\\{([^}]+)\\}/g;\n \nfunction pipe(value, key) {\n  const [id, ...args] = key.split(':')\n  try {\n    const fn = this.res(id);\n    let $ = this;\n    return fn.apply($.impl, [value, ...args.map(a => a[0] === '@' ? $.prop(a.slice(1)) : a)]);\n  } catch (ex) {\n    console.error('ERROR: Object.pipes.' + id, ex)\n    return value;\n  }\n}\n\nfunction withPipes(pipes) {\n  return !pipes.length ? (c, v) => v : (c, initialValue) => pipes.reduce((r, pk) => pipe.call(c, r, pk), initialValue);\n}\n\n// Compilation\nfunction compileExpression(v) {\n\n  if (v[0] === ':') { return resourceExpression(v.slice(1).trim()); }\n\n  if (!v.includes('{')) { const r = v in VALUES ? VALUES[v] : v; return () => r; }\n  if (v.match(RE_SINGLE_PLACEHOLDER)) { return placeholder(v.slice(1, -1).trim()); }\n  return stringInterpolation(v);\n}\n\nfunction stringInterpolation(v, fnx = []) {\n  const pattern = v.replace(RE_PLACEHOLDER, (s, expr) => { fnx.push(placeholder(expr)); return '{{' + (fnx.length - 1) + '}}'; });\n  return c => !fnx.length ? pattern : pattern.replace(/\\{\\{(\\d+)\\}\\}/g, (s, idx) => {\n    const r = fnx[idx](c);\n    return !r && r !== 0 ? '' : r;\n  });\n}\n\nfunction resourceExpression(expr) {\n  const [key, ...pipes] = expr.split('|').map(s => s.trim());\n  const intrpltn = stringInterpolation(key)\n  return !pipes.length ? c => c.res(intrpltn(c)) : (pipec => c => pipec(c, c.res(intrpltn(c))))(withPipes(pipes))\n}\n\nfunction placeholder(expr) {\n  const [key, ...pipes] = expr.split('|').map(s => s.trim());\n  return !pipes.length ? c => c.prop(key) : c => pipes.reduce((r, pk) => pipe.call(c, r, pk), c.prop(key))\n}\n\nconst assignKeyValue = (acc, val, k) => {\n  if (k.slice(0, 5) === 'data-') {\n    acc['data'] = { ...acc['data'], [k.slice(5)]: val in VALUES ? VALUES[val] : val };\n  } else {\n    acc[k] = val;\n  }\n}\n\nconst makeApplicator = (get, k = '_') => (c, acc) => assignKeyValue(acc, get(c), k);\n\nconst hasSlot = (c, id) => {\n  let r = false;\n  if (id && id != 'default') {\n    c.content && c.content.forEach((e) => { r = r || (e.tag === c.tag + ':' + id) });\n  } else {\n    c.content && c.content.forEach((e) => { r = r || (e.tag.slice(0, c.tag.length + 1) !== c.tag + ':') });\n  }\n  return r\n}\n\nexport const filterMapKey = (src, key) => {\n  const r = new Map();\n  src.forEach((v, k) => { if (k !== key) { r.set(k, v); } });\n  return r;\n};\n\nexport function compileFor({ tag, attrs, uid, nodes }) {\n  const [itemId, , expr] = attrs.get('ui:for').split(' ');\n  const $spec = { itemId };\n  const r = { tag: 'ui:for', uid: 'for:' + expr + uid, $spec, key: attrs.get('key') };\n  if ((expr.slice(0, 2) === '<-')) {\n    const [key, ...pipes] = expr.slice(2).split('|').map(s => s.trim());\n    const pipec = withPipes(pipes);\n    (r.inits || (r.inits = [])).push(c => c.connect(key, rr => ({ $data: pipec(c.owner, rr) })));\n  } else {\n    (r.updates || (r.updates = [])).push(makeApplicator(compileExpression('{:'.includes(expr[0]) ? expr : '{' + expr + '}'), '$data'));\n  }\n  let $nodes = nodes;\n  if (nodes && nodes.length) {\n    const emptyNode = $nodes.find(e => e.tag === 'ui:empty');\n    if (emptyNode) {\n      $spec.emptyNode = emptyNode.nodes.map(compileNode);\n      $nodes = $nodes.filter(e => e !== emptyNode);\n    }\n    const loadingNode = $nodes.find(e => e.tag === 'ui:loading');\n    if (loadingNode) {\n      $spec.loadingNode = loadingNode.nodes.map(compileNode);\n      $nodes = $nodes.filter(e => e !== loadingNode);\n    }\n  }\n  $spec.itemNode = compileNode({ tag, attrs: filterMapKey(attrs, 'ui:for'), uid, nodes: $nodes });\n  return r;\n}\n\nexport function compileIf({ tag, attrs, uid, nodes }) {\n  const aIf = attrs.get('ui:if')\n  const iff = {};\n  const r = { tag: 'ui:if', uid: 'if:' + aIf + uid, key: attrs.get('key'), $spec: iff, };\n  const neg = aIf[0] === '!';\n  const expr = neg ? aIf.slice(1) : aIf;\n\n  if ((expr.slice(0, 2) === '<-')) {\n    const [key, ...pipes] = expr.slice(2).split('|').map(s => s.trim());\n    const pipec = withPipes(pipes);\n    const applicator = neg ? (c => rr => ({ $data: !pipec(c, rr) })) : (c => rr => ({ $data: (!!pipec(c.owner, rr)) }));\n    (r.inits || (r.inits = [])).push(c => c.connect(key, applicator(c)));\n  } else if ((expr.slice(0, 5) === 'slot(')) {\n    const gttr = c => hasSlot(c, expr.slice(5, -1));\n    (r.updates || (r.updates = [])).push((c, acc) => { acc['$data'] = neg ? !gttr(c) : gttr(c); });\n  } else {\n    const gttr = compileExpression(expr.includes('{') ? expr : '{' + expr + '}');\n    (r.updates || (r.updates = [])).push((c, acc) => { acc['$data'] = neg ? !gttr(c) : gttr(c); });\n  }\n  let $then = { tag, attrs: filterMapKey(attrs, 'ui:if'), uid, nodes };\n  if (nodes && nodes.length) {\n    const ifElse = nodes.find(e => e.tag === 'ui:else');\n    const ifThen = nodes.find(e => e.tag === 'ui:then');\n    if (ifElse) {\n      iff.else = ifElse.nodes.map(compileNode);\n      $then.nodes = ifThen ? ifThen.nodes : nodes.filter(e => e !== ifElse);\n    } else if (ifThen) {\n      $then.nodes = ifThen.nodes;\n    }\n  }\n  iff.then = [$then].map(compileNode);\n  return r;\n}\n\nexport function compileTag({ attrs, uid, nodes }) {\n  const expr = attrs.get('tag')\n  const r = {\n    tag: 'ui:tag',\n    uid: 'tag:' + expr + uid,\n    $spec: compile({ attrs: filterMapKey(attrs, 'tag'), nodes }),\n  };\n  if ((expr.slice(0, 2) === '<-')) {\n    (r.inits || (r.inits = [])).push(c => c.connect(expr.slice(2).trim(), (rr => ({ $data: rr }))));\n  } else {\n    const gttr = compileExpression(expr);\n    (r.updates || (r.updates = [])).push((c, acc) => { acc['$data'] = gttr(c); });\n  }\n  return r;\n}\nexport function compile(r) {\n  const { attrs, nodes } = r;\n  if (attrs.has('id')) { r.id = attrs.get('id') }\n  if (attrs.has('ui:ref')) { r.ref = attrs.get('ui:ref') }\n  // ui:props\n  if (attrs.has('ui:props')) {\n    const aProps = attrs.get('ui:props');\n    if ((aProps.slice(0, 2) === '<-')) {\n      const [key, ...pipes] = aProps.slice(2).split('|').map(s => s.trim());\n      const pipec = withPipes(pipes);\n      (r.inits || (r.inits = [])).push(c => c.connect(key, rr => pipec(c.owner, rr)));\n    } else {\n      const getter = compileExpression(aProps);\n      (r.updates || (r.updates = [])).push((c, acc) => Object.assign(acc, getter(c)));\n    }\n  }\n  // attrs\n  attrs.forEach((v, k) => {\n    if (k.slice(0, 3) !== 'ui:') {\n      const v2 = v.slice(0, 2)\n      if (v2 === '<-') {\n        const [key, ...pipes] = v.slice(2).split('|').map(s => s.trim());\n        const pipec = withPipes(pipes);\n        (r.inits || (r.inits = [])).push(c => c.connect(key, rr => ({ [k]: pipec(c.owner, rr) })));\n      } else if (v2 === '->') {\n        const [key, ...pipes] = v.slice(2).split('|').map(s => s.trim());\n        const expr = compileExpression(key);\n        const pipec = withPipes(pipes);\n        const ekey = '$' + v + ':' + r.uid;\n        const emitter = c => c[ekey] || (c[ekey] = (data, cb) => c.emit(expr(c), pipec(c.owner, data), cb));\n        (r.updates || (r.updates = [])).push((c, acc) => assignKeyValue(acc, emitter(c), k));\n      } else {\n        if (!v.includes('{') && v[0] !== ':' && k.slice(0, 5) !== 'data-') {\n          assignKeyValue((r.initials || (r.initials = {})), v, k);\n        } else {\n          (r.updates || (r.updates = [])).push(makeApplicator(compileExpression(v), k));\n        }\n      }\n    }\n  });\n\n  r.nodes = nodes.map(compileNode)\n\n  return r;\n}\n\nexport function compileNode(node) {\n  if (node.attrs.has('ui:for')) { return compileFor(node); }\n  if (node.attrs.has('ui:if')) { return compileIf(node); }\n  if (node.tag === 'ui:tag') { return compileTag(node); }\n  return compile(node);\n}\n\n","/* eslint-disable no-console */\nimport { render } from './render.js';\nimport { resolveTemplate } from './resolve.js';\nimport { applyValue, nextId, propGetter, upAsync, res, methodName } from './component.utils';\nimport { Element } from './element';\n\n/**\n * Component class.\n */\nexport class Component {\n\n  constructor(Ctor, options) {\n    Object.assign(this, options);\n    const { ref, parent, props } = this;\n    if (parent) {\n      this.app = parent.app;\n      this.isElementary = !Ctor\n      this.impl = new (Ctor || Element)(props, this);\n      this.impl.$ = this;\n      this.impl.app = this.app;\n      if (ref) {\n        const hidden = this.app[ref];\n        this.app[ref] = this.impl;\n        this.defer(() => { this.app[ref] = hidden })\n      }\n    } else {\n      this.app = this.impl = new Ctor(props, this);\n      this.impl.$ = this;\n    }\n  }\n\n  get containerElement(){\n    if (this.$containerElement) return this.$containerElement\n    let $p = this.parent;\n    while ($p && !$p.impl.elt) { $p = $p.parent }\n    this.$containerElement = $p.impl.elt\n    return this.$containerElement\n  }\n\n  /**\n   * Rendering.\n   */\n  render() {\n    if (this.isDone) { return; }\n    this.impl.render ? this.impl.render(this, render) : render(this);\n  }\n\n  resolveTemplate() {\n    return this.impl.resolveTemplate\n      ? this.impl.resolveTemplate(this)\n      : resolveTemplate(this, this.impl.constructor.$TEMPLATE())\n  }\n\n  /**\n   * Life-cycle hooks.\n   */\n  init() {\n    if (this.isDone || this.isInited) { return; }\n    this.isInited = true;\n    if (this.inits) {\n      const initials = this.impl.init && this.impl.init(this) || {}\n      const all = []\n      this.inits.map(f => f(this)).forEach(r => {\n        if (!r) return;\n        const { hotValue, cancel } = r\n        this.defer(cancel);\n        if (hotValue && hotValue.then) {\n          all.push(hotValue)\n        } else {\n          Object.assign(initials, hotValue)\n        }\n      });\n      delete this.inits;\n      this.up(initials);\n      if (all.length) {\n        Promise.all(all).then((args) => this.up(args.reduce(Object.assign, {})));\n      }\n    } else {\n      if (this.impl.init) {\n        const d = this.impl.init(this)\n        if (d) { this.up(d); }\n      }\n    }\n  }\n\n  done() {\n    if (this.isDone) { return; }\n    this.isDone = true;\n    if (this.impl.done) {\n      this.impl.done(this);\n    }\n    if (this.children) {\n      this.children.forEach(c => { c.parent = null; c.done(); })\n    }\n    if (this.parent) {\n      this.parent.children.delete(this.uid);\n    }\n    if (this.defered) {\n      this.defered.forEach(f => f(this));\n      delete this.defered;\n    }\n    ['parent', 'children', 'owner', 'impl', 'app'].forEach(k => { delete this[k]; });\n  }\n\n  /**\n   * State.\n   */\n  up(Î”) {\n    if (this.isDone) { return; }\n    let changed = this.set(Î”);\n    this.render();\n    if (this.ref && changed) { this.notify(); }\n  }\n\n  set(Î”) {\n    const $ = this;\n    const impl = $.impl;\n    let changed = false;\n\n    if (impl.set) {\n      changed = impl.set(Î”);\n    } else if (Î”) {\n      if (Î”.then) {\n        upAsync($, Î”);\n      } else {\n        Object.entries(Î”).forEach(([k, their]) => {\n          if (their && their.then) {\n            upAsync($, their, k);\n          } else if (k && typeof their !== 'undefined' && their !== impl[k]) {\n            const setter = impl['set' + k[0].toUpperCase() + k.slice(1)];\n            if (setter) { setter.call(impl, their); } else { impl[k] = their; }\n            changed = true;\n          }\n        });\n      }\n    }\n    return changed;\n  }\n\n  prop(propId) {\n    const value = propGetter(this, propId)();\n    return value;\n  }\n\n  /**\n   *  Left Arrow.\n   */\n  notify() {\n    if (this.listeners && !this.notifying) {\n      this.notifying = true\n      this.listeners.forEach(e => e())\n      this.notifying = false\n    }\n  }\n\n  subscribe(target, fn) {\n    const uuid = nextId();\n    const listeners = (this.listeners || (this.listeners = new Map()))\n    listeners.set(uuid, () => {\n      try {\n        target.up(fn(this))\n      } catch (ex) {\n        console.error(this.tag + this.uid + ' notify ', ex)\n      }\n    });\n    return { hotValue: fn(this), cancel: () => listeners.delete(uuid) };\n  }\n\n  connect(key, applicator) {\n    const [refId, propId] = key.split('.');\n    const ref = refId === 'this' ? this.impl : this.app[refId];\n    if (!ref) { return console.error('connect: No such ref ' + refId, key) }\n    return ref.$.subscribe(this, ($) => applyValue($.prop(propId), applicator));\n  }\n\n  /**\n   *  Right Arrow.\n   */\n  emit(key, data) {\n    const $ = this;\n\n    if (!key || !key.includes('.')) {\n      return $.up(key ? { [key]: data } : data)\n    }\n\n    const [type, target] = key.split('.');\n    const event = { data, ...data };\n\n    const ref = type === 'this' ? $.impl : $.app[type];\n    if (!ref) {\n      console.warn('emit: No such ref ' + type);\n      return;\n    }\n\n    try {\n\n      const method = ref[methodName(target, 'on')];\n      if (!method) { throw new ReferenceError('emit ' + type + ': No such method ' + methodName(target, 'on')) }\n\n      const result = method.call(ref, event, ref, ref.$);\n      this.log(type + ':' + methodName(target, 'on'), result, data, ref)\n      if (result) { ref.$.up(result) }\n\n    } catch (ex) {\n      console.error('emit ' + key + ':', ex)\n    }\n  }\n\n  /**\n   * Routines.\n   */\n\n  raceCondition(key) {\n    const COUNTERS = this.$weak || (this.$weak = new Map())\n    let counter = 1 + (COUNTERS.get(key) || 0);\n    COUNTERS.set(key, counter)\n    return (fn) => {\n      if (counter === COUNTERS.get(key)) {\n        counter = 0;\n        fn()\n      }\n    }\n  }\n\n  defer(fn) { if (fn && typeof fn === 'function') { (this.defered || (this.defered = [])).push(fn); } }\n\n  log(...args) {\n    console.log(this.tag + this.uid, ...args)\n  }\n\n  res(key) {\n    return res(this.app, key)\n  }\n}\n","let COUNTER = 1;\nconst fnId = e => e\nexport const nextId = (p = '') => p + (COUNTER++);\nexport const applyValue = (value, fn = fnId) => value && value.then ? value.then(fn) : fn(value);\n\nexport const methodName = (x, pre = '') => {\n  if (!x) { return pre; }\n  const s = `${x}`;\n  return pre + s[0].toUpperCase() + s.slice(1);\n};\n \nexport const upAsync = ($, promise, key) => {\n  const racer = $.raceCondition('set:' + (key || 'up'));\n  const up = r => racer(() => $.up(r))\n  if (key && key !== '...') {\n    const akey = key.replace('Promise', '')\n    promise.then(val => up({ [akey + 'Error']: null, [akey]: val }), error => up({ [akey + 'Error']: error }));\n  } else {\n    promise.then(up, error => up({ error }));\n  }\n  return promise;\n}\nexport const propGetter = ($, key) => {\n  const map = $.$propFnMap || ($.$propFnMap = {});\n  let fn = map[key];\n  if (fn) { return fn; }\n\n  const impl = $.impl\n  const instant = impl[key];\n  if (instant && (typeof instant === 'function')){\n     const bound = instant.bind(impl);\n     fn = () => bound;\n  } else {\n    const [pk, ...path] = key.split('.')\n    const gettr = impl[methodName(pk, 'get')];\n  \n    const fn0 = gettr\n      ? () => gettr.call(impl)\n      : () => impl[pk];\n  \n    fn = !path.length\n      ? fn0\n      : () => path.reduce((r, p) => (r && (p in r) ? r[p] : void 0), fn0())\n  }\n\n  map[key] = fn;\n\n  return fn;\n}\nexport const res = (app, key) => {\n    const [id, ...deep] = key.split('.');\n    const target = id === 'app' ? app : app.resources[id];\n    if (!target || deep.length === 0) {\n      return target;\n    }\n    if (deep.length === 1) {\n      return target[deep[0]];\n    }\n    return deep.reduce((r, k) => r ? r[k] : null, target)\n  }","const camelize = (key, sep = '_', jn = ' ') => ('' + key).split(sep).map((s, i) => i ? s[0].toUpperCase() + s.slice(1) : s).join(jn);\n\n// DOM\nconst DOM_SETTERS = {\n  '#text': (e, v) => (e.textContent = v == null ? '' : v),\n  disabled: (e, v) => (e.disabled = v ? true : null),\n  class: (e, v) => {\n    e.className = v;\n  },\n  selected: (e, v) => (e.selected = v ? true : null),\n  value: (e, v) => (e.value = v == null ? '' : v),\n  checked: (e, v) => (e.checked = !!v),\n  init: function (e, v) {\n    this.init = () => v(e, this)\n  },\n  data: function (e, v) {\n    if (v && e.$dataset) {\n      Object.keys(e.$dataset).forEach(k => { if (!v[k]) { e.dataset[camelize(k, '-', '')] = null } });\n    }\n    e.$dataset = { ...v };\n    if (v) {\n      Object.keys(v).forEach(k => { e.dataset[camelize(k, '-', '')] = v[k]; });\n    }\n  },\n  click: function (e, v) {\n    setAttribute.call(this,'click:click', !v ? null : (ev) => {\n      this.$attributes.click({ ...e.$dataset }, ev);\n      return false;\n    });\n  },\n  'bubble-click': function (e, v) {\n    setAttribute.call(this,'bubbled-click:click', !v ? null : (ev) => {\n      this.$attributes['bubble-click']({ ...e.$dataset }, ev);\n      return true;\n    });\n  },\n  blur: function (e, v) {\n    setAttribute.call(this,'blur:blur', !v ? null : (ev) => {\n      this.$attributes.blur({ ...e.$dataset }, ev);\n      return false;\n    });\n  },\n  dblclick: function (e, v) {\n    setAttribute.call(this,'dblclick:dblclick', !v ? null : (ev) => {\n      this.$attributes.dblclick({ ...e.$dataset }, ev);\n      return false;\n    });\n  },\n  scroll: function (e, v) {\n    setAttribute.call(this,'scroll:scroll', !v ? null : (ev) => {\n      this.$attributes.scroll({ ...e.$dataset }, ev);\n      return false;\n    });\n  },\n  touchstart: function (e, v) {\n    const h = !v ? null : (ev) => {\n      this.$attributes.touchstart({\n        ...e.$dataset,\n        x: ev.pageX || ev.changedTouches[0].screenX,\n        y: ev.pageY || ev.changedTouches[0].screenY\n      }, ev);\n      return false;\n    }\n    setAttribute.call(this,'touchstart:touchstart', h);\n    setAttribute.call(this,'touchstart:mousedown', h);\n  },\n  touch: function (e, v) {\n    const data = { ...e.$dataset }\n    const hs = !v ? null : (ev) => {\n      data.active = true;\n      data.x = ev.pageX || ev.changedTouches[0].screenX;\n      data.y = ev.pageY || ev.changedTouches[0].screenY;\n      return false;\n    }\n    setAttribute.call(this,'touch:touchstart', hs);\n    setAttribute.call(this,'touch:mousedown', hs);\n    const h = !v ? () => null : stop => (ev) => {\n      if (data.active) {\n        data.active = !stop\n\n        data.xx = ev.pageX || ev.changedTouches[0].screenX;\n        data.yy = ev.pageY || ev.changedTouches[0].screenY;\n        data.dx = data.xx - data.x;\n        data.dy = data.yy - data.y;\n        this.$attributes.touch(data, ev);\n      }\n\n      return false;\n    }\n    setAttribute.call(this,'touch:touchcancel', h(true));\n    setAttribute.call(this,'touch:touchend', h(true));\n    setAttribute.call(this,'touch:mouseup', h(true));\n    setAttribute.call(this,'touch:touchmove', h(false));\n    setAttribute.call(this,'touch:mousemove', h(false));\n  },\n  error: function (e, v) {\n    setAttribute.call(this,'error:error', !v ? null : (ev) => {\n      const fn = this.getAttribute('error');\n      fn && fn({ ...e.$dataset }, ev);\n      return false;\n    });\n  },\n  keypress: function (e, v) {\n    setAttribute.call(this,'keypress:keyup', !v ? null : (ev) => {\n      if (ev.keyCode !== 13 && ev.keyCode !== 27) {\n        const fn = this.$attributes.keypress;\n        fn && fn({ value: e.value, ...e.$dataset }, ev);\n        setTimeout(() => e.focus(), 0)\n      }\n      return false;\n    });\n  },\n  enter: function (e, v) {\n    setAttribute.call(this,'enter:keyup', !v ? null : (ev) => {\n      if (ev.keyCode === 13) {\n        this.$attributes.enter({ value: e.value, ...e.$dataset }, ev);\n      }\n      if (ev.keyCode === 13 || ev.keyCode === 27) {\n        e.blur();\n      }\n      return false;\n    });\n  },\n  change: function (e, v) {\n    setAttribute.call(this,'change:change', !v ? null : (ev) => {\n      this.$attributes.change({ value: e.value, ...e.$dataset }, ev);\n      return false;\n    });\n  },\n  toggle: function (e, v) {\n    setAttribute.call(this,'toggle:change', !v ? null : (ev) => {\n      this.$attributes.toggle({ value: e.checked, ...e.$dataset }, ev);\n      return false;\n    });\n  }\n};\n\nconst DOM_VALUE_COMPARATORS = {\n  value: (e, their) => (e.value === their),\n  _: (_, their, mine) => their === mine\n};\n\nexport function applyAttributes(theirs = {}, mines = this.$attributes || {}) {\n    const e = this.elt;\n    for (let key in theirs) {\n      if (Object.prototype.hasOwnProperty.call(theirs, key) && !(DOM_VALUE_COMPARATORS[key] || DOM_VALUE_COMPARATORS._)(e, theirs[key], mines[key])) {\n        const value = theirs[key];\n        const setter = DOM_SETTERS[key];\n        if (setter) {\n          setter.call(this, e, value);\n        } else {\n          setAttribute.call(this, key, value);\n        }\n      }\n    }\n    this.$attributes = theirs;\n  }\n function  getAttribute(key, def) {\n    return (this.$attributes && this.$attributes[key]) || def\n  }\n export function  cleanupAttributes() {\n    this.$attributes = null;    \n\n// const lstnrs = this.listeners;\n    // if (lstnrs) {\n    //   Object.keys(lstnrs).forEach((fn, key) => {\n    //     const [akey, ekey = akey] = key.split(':');\n    //     e.removeEventListener(ekey, fn);\n    //   });\n    //   this.listeners = null;\n    // }\n  }\n function  setAttribute(key, value) {\n    if (value != null) {\n      if (typeof value === 'function') {\n        const fnValue = (...args) => { if (!this.isDone) { value(...args) } }\n        if (!this.listeners) {\n          this.listeners = new Map();\n        }\n        if (!this.listeners.has(key)) {\n          const [akey, ekey = akey] = key.split(':')\n          this.elt.addEventListener(ekey, fnValue, false);\n          this.listeners.set(key, fnValue);\n        }\n      } else {\n        this.elt.setAttribute(key, value);\n      }\n    } else {\n      if (this.listeners && this.listeners.has(key)) {\n        const [akey, ekey = akey] = key.split(':')\n        this.elt.removeEventListener(ekey, this.listeners.get(key));\n        this.listeners.delete(key);\n      } else {\n        this.elt.removeAttribute(key);\n      }\n    }\n  }\n","import { applyAttributes, cleanupAttributes } from './dom.attrs';\n\nfunction append(e, p, before) {\n  if (!before) {\n    if (p !== e.parentElement) {\n      p.appendChild(e);\n    }\n  } else if (e !== before) {\n    p.insertBefore(e, before);\n  }\n}\n\nexport class DomAppManager {\n  constructor(props) {\n    Object.assign(this, props);\n    this.elt = this.rootElement || document.body\n  }\n\n  onCreateElement(E, tag, attrs) {\n    E.elt = tag === '#text' ? document.createTextNode('') : document.createElement(tag);\n    E.elt.impl = E\n    applyAttributes.call(E, attrs);\n\n    let $p = E.$.parent;\n    while ($p && !$p.impl.elt) {$p=$p.parent}\n    E.parent = $p\n   }\n   onDoneElement(E) {\n    const e = E.elt;\n    const p = e.parentElement;\n    if (p) {\n      p.removeChild(e);\n    }\n    cleanupAttributes.call(E);\n    E.elt = null;    \n   }\n   onRenderElement(E, attrs, content, render) {\n    const e = E.elt; \n    // render underlying content\n    if (content) {\n      e.cursor = {elt:null}\n      render(E.$, content);\n      e.cursor = null\n    }\n    // apply attributes\n    if (attrs) {\n      applyAttributes.call(E, attrs);\n    }\n    \n    const p = E.parent.impl.elt\n    \n    // Case 1. we are under parent rendering flow\n    if (p.cursor) {\n      let before = p.cursor.elt ? p.cursor.elt.nextSibling : p.firstChild\n      append(e, p, before)\n      if(e.previousSibling) {\n        e.previousSibling.impl.next = E\n      }\n      p.cursor.elt = e\n      return\n    } \n    // Case 2. instant rendering\n    p.cursor = {elt:null}\n    render(E.parent, E.parent.content);\n    p.cursor = null\n  }\n}\n","import { render } from './render.js';\n\nexport class Element {\n  constructor(attrs, $) {\n    this.$ = $\n    this.$.app.onCreateElement(this, $.tag, attrs)\n  }\n  done() {\n    this.$.app.onDoneElement(this)\n    this.$ = null\n  }\n  set(delta) {\n    this.delta = this.delta ? Object.assign(this.delta, delta) : delta;\n    return this.$.nodes || delta && Object.keys(delta).length;\n  }\n  render() {\n    this.$.app.onRenderElement(this, this.delta, this.$.content, render)\n    this.delta = null;\n  }\n}","import { resolveTemplate } from './resolve.js';\n\nexport class Fragment {\n    resolveTemplate($) {\n        return $.content;\n    }\n}\n\nexport class FragmentSlot {\n    resolveTemplate($) {\n        const ocontent = $.owner.content;\n        if (!ocontent) return null;\n        const otag = $.owner.tag;\n        const acc = new Map();\n        ocontent.forEach((v, idx) => {\n            if ($.id) {\n                if ((v.tag === otag + ':' + $.id || $.id === `#${idx}`) && v.content) {\n                    v.content.forEach(vv => acc.set(vv.uid, vv));\n                }\n            } else if (v.tag.slice(0, otag.length + 1) !== otag + ':') {\n                acc.set(v.uid, v);\n            }\n        });\n        return acc;\n    }\n}\n\nexport class FragmentForItem {\n    resolveTemplate($) {\n        return resolveTemplate($, $.$spec);\n    }\n    init($) {\n        $.prop = key => {\n            const [pk, ...path] = key.split('.')\n            if (pk === this.itemId || key === this.itemId + 'Index'){\n                return path.reduce((r, p) => (r && (p in r) ? r[p] : void 0), this[pk])\n            }\n            return $.owner.prop(key);\n        }\n        //$.up = delta => $.owner.up(delta)\n        $.connect = (key, applicator) => $.owner.connect(key, applicator)\n        $.emit = (key, data) => $.owner.emit(key, data)\n    }\n}\n\nexport class FragmentFor {\n    resolveTemplate($) {\n        const acc = new Map();\n        const { $data: data } = $.impl;\n        const { itemId, itemNode, emptyNode, loadingNode } = $.$spec;\n        const { tag, updates, initials = {}, nodes } = itemNode;\n        if (data && data.length) {\n            if (!data.forEach) {\n                throw new Error('[ui:for] data has no forEach()', data)\n            }\n            data.forEach((d, index) => {\n                const uid = `${itemNode.uid}-$${d.id || index}`;\n                const $ownerImpl = Object.assign(Object.create($.owner.impl), { [itemId]: d, [itemId + 'Index']: index })\n                const up = Î” => $.owner.up(Î”)\n                const $owner = Object.assign(Object.create($.owner), { impl: $ownerImpl, $propFnMap: {}, up })\n                resolveTemplate($owner, { tag, initials, updates, nodes, uid }, acc);\n\n                // const uid = `${itemNode.uid}-$${d.id || index}`;\n                // resolveTemplate($.owner, {\n                //     tag:'ui:item', \n                //     initials:{ itemId, [itemId]: d, [itemId + 'Index']: index },\n                //     $spec:{ tag, initials, updates, nodes, uid },\n                //     uid: uid+'_item'\n                // }, acc);\n            });\n        } else if (!data) {\n            if (loadingNode) { resolveTemplate($.owner, loadingNode, acc); }\n        } else if (!data.length) {\n            if (emptyNode) { resolveTemplate($.owner, emptyNode, acc); }\n        }\n        return acc;\n    }\n}\n\nexport class FragmentIf {\n\n    resolveTemplate($) {\n        const { $data } = $.impl;\n        const node = $data ? $.$spec.then : $.$spec.else;\n        return resolveTemplate($.owner, node);\n    }\n}\n\nexport class FragmentTag {\n    resolveTemplate($) {\n        const acc = new Map();\n        const tag = $.impl.$data;\n        if (tag) {\n            resolveTemplate($.owner, { ...$.$spec, tag, uid: tag + ':' + $.uid }, acc);\n        }\n        return acc;\n    }\n}\n\n\nexport const allFragments = [\n    ['ui:fragment', Fragment],\n    ['ui:for', FragmentFor],\n    // ['ui:item', FragmentForItem],\n    ['ui:if', FragmentIf],\n    ['ui:tag', FragmentTag],\n    ['ui:slot', FragmentSlot],\n]","import { Component } from './component.js';\nimport { render } from './render';\nimport { registerTypes } from './register.js';\nimport { DomAppManager } from './dom.manager';\n\nexport function launch({ types, template = '<App/>',  ...props } = {}) {\n  DomAppManager.template = template;\n  registerTypes([DomAppManager].concat(types))\n  const a = new Component(DomAppManager, { props });\n\n  const fn = () => { render(a); a.init(); }\n  if (typeof window === 'object') {\n    window.requestAnimationFrame(fn);\n  } else {\n    fn()\n  }\n\n  return a.impl;\n}\n\nif (typeof window === 'object') {\n  window.launch = launch;\n}","import { parseXML } from './xml.js';\nimport { compileNode } from './compile.js';\nimport { allFragments } from './fragment.js';\n\nlet COUNTER = 1;\n\nconst nextId = (p = '') => p + (COUNTER++);\n\nconst fnName = ctor => (/^function\\s+([\\w$]+)\\s*\\(/.exec(ctor.toString()) || [])[1] || nextId('$C');\n\nconst REGISTRY = new Map(allFragments);\n\nconst reg = ctr => {\n    const ctor = typeof ctr === 'function' ? ctr : Object.assign(function () { }, ctr);\n    const name = ctor.NAME || ctor.name || fnName(ctor);\n    const text = ctor.TEMPLATE || ctor.template || ctor.prototype.TEMPLATE;\n    ctor.$TEMPLATE = () => {\n        try {\n            const T = text ? compileNode(parseXML(typeof text === 'function' ? text() : text, name)) : [];\n            ctor.$TEMPLATE = () => T;\n            return T;\n        } catch (ex) {\n            // eslint-disable-next-line no-console\n            console.error('compile ' + name, ex)\n        }\n        return []\n    }\n    REGISTRY.set(name, ctor);\n};\n\nexport const registerTypes = types => types.forEach(reg);\n\nexport const getByTag = tag => REGISTRY.get(tag);","import { getByTag } from './register.js';\nimport { Component } from './component.js';\n\nexport const render = (c, $content = c.resolveTemplate()) => {\n    if (!$content || !$content.size) {\n        if (c.children) { c.children.forEach(cc => cc.done()); }\n        return;\n    }\n    if (c.children) { c.children.forEach(cc => !$content.has(cc.uid) ? cc.done() : 0); }\n    const ch = c.children || (c.children = new Map());\n    $content.forEach(({ tag, content, owner, props, inits, initials, ref, $spec, id }, uid) => {\n        let cc = ch.get(uid);\n        if (!cc) {\n            if (initials) {\n                props = props && props.data && initials.data\n                    ? { ...props, ...initials, data: { ...initials.data, ...props.data } }\n                    : { ...props, ...initials }\n            }\n            cc = new Component( getByTag(tag), { props, tag, ref, $spec, id, uid, owner, inits, parent: c } );\n            ch.set(uid, cc);\n        }\n        cc.owner = owner;\n        cc.content = content;\n        cc.up(props);\n    });\n    if (c.children) { c.children.forEach(cc => !cc.isInited ? cc.init() : 0); }\n};\n","\nexport function resolveTemplate(owner, tmpl, acc = new Map()) {\n    if (!tmpl) { return acc; }\n    if (tmpl.reduce) { return tmpl.length ? tmpl.reduce((m, t) => resolveTemplate(owner, t, m), acc) : acc; }\n    const { tag, updates, initials, inits, nodes, uid, id, ref, $spec } = tmpl;\n    const props = updates && updates.length ? updates.reduce((r, fn) => { fn(owner, r); return r; }, {}) : null;\n    const content = nodes && nodes.length ? nodes.reduce((m, t) => resolveTemplate(owner, t, m), new Map()) : null;\n    return acc.set(uid, { tag, id, uid, ref, owner, initials, inits, $spec, props, content });\n}\n","// ==========\n// XML Parse for templates. XML -> NodeTree\n// ----------\nconst RE_XML_ENTITY = /&#?[0-9a-z]{3,5};/g;\nconst RE_XML_COMMENT = /<!--((?!-->)[\\s\\S])*-->/g;\nconst RE_ATTRS = /([a-z][a-zA-Z0-9-:]+)(=\"[^\"]*\"|={[^}]*})?/g;\nconst RE_ESCAPE_XML_ENTITY = /[\"'&<>]/g;\nconst RE_XML_TAG = /(<)(\\/?)([a-zA-Z][a-zA-Z0-9-:]*)((?:\\s+[a-z][a-zA-Z0-9-:]+(?:=\"[^\"]*\"|={[^}]*})?)*)\\s*(\\/?)>/g;\nconst SINGLE_TAGS = 'img input br col'.split(' ').reduce((r, e) => { r[e] = 1; return r; }, {});\nconst SUBST_XML_ENTITY = {\n    amp: '&',\n    gt: '>',\n    lt: '<',\n    quot: `\"`,\n    nbsp: ' '\n};\nconst ESCAPE_XML_ENTITY = {\n    34: '&quot;',\n    38: '&amp;',\n    39: '&#39;',\n    60: '&lt;',\n    62: '&gt;'\n};\nconst RE_EMPTY = /^\\s*$/\nconst FN_ESCAPE_XML_ENTITY = m => ESCAPE_XML_ENTITY[m.charCodeAt(0)];\nconst FN_XML_ENTITY = function (_) {\n    const s = _.substring(1, _.length - 1);\n    return s[0] === '#' ? String.fromCharCode(+s.slice(1)) : (SUBST_XML_ENTITY[s] || ' ');\n};\nconst decodeXmlEntities = (s = '') => s.replace(RE_XML_ENTITY, FN_XML_ENTITY);\nconst escapeXml = (s) => !s ? '' : ('' + s).replace(RE_ESCAPE_XML_ENTITY, FN_ESCAPE_XML_ENTITY);\nconst skipQoutes = (s) => s[0] === '\"' && s[s.length - 1] === '\"' ? s.slice(1, -1) : s;\n\nlet UID = 1;\n\nconst parseAttrs = (s) => {\n    const r = new Map();\n    if (!s) { return r; }\n    for (let e = RE_ATTRS.exec(s); e; e = RE_ATTRS.exec(s)) {\n        if (!e[2]) {\n            r.set(e[1], \"true\");\n        } else {\n            r.set(e[1], decodeXmlEntities(skipQoutes(e[2].slice(1))));\n        }\n    }\n    return r;\n};\nconst stringifyAttrs = (attrs) => {\n    if (!attrs || !attrs.size) {\n        return '';\n    }\n    const r = [];\n    attrs.forEach((v, k) => {\n        if (v && k !== '#text') {\n            r.push(' ' + k + '=\"' + escapeXml(v) + '\"');\n        }\n    });\n    return r.join('');\n};\n\nclass Node {\n    constructor(tag, attrs = new Map()) {\n        this.uid = UID++;\n        this.tag = tag || '';\n        this.attrs = attrs;\n        this.nodes = [];\n    }\n    getChild(index) {\n        return this.nodes[index];\n    }\n    setText(text) {\n        this.attrs.set('#text', decodeXmlEntities(text));\n    }\n    addChild(tag, attrs) {\n        const e = new Node(tag, attrs);\n        this.nodes.push(e);\n        return e;\n    }\n    toString() {\n        return stringify(this);\n    }\n}\n\nexport function stringify({ tag, attrs, nodes = [] }, tab = '') {\n    const sattrs = stringifyAttrs(attrs);\n    const ssubs = nodes.map(c => stringify(c, `  ${tab}`)).join('\\n');\n    const text = attrs && attrs.get('#text');\n    const stext = text ? `  ${tab}${escapeXml(text)}` : '';\n    if (tag === '#text') {\n        return stext.trim()\n    }\n    return `${tab}<${tag}${sattrs}` + (!ssubs && !stext ? '/>' : `>\\n${ssubs}${stext}\\n${tab}</${tag}>`);\n}\n\nexport const parseXML = (_s, key) => {\n    const s = ('' + _s).trim().replace(RE_XML_COMMENT, '');\n    const ctx = [new Node()];\n    let lastIndex = 0;\n    // head text omitted\n    for (let e = RE_XML_TAG.exec(s); e; e = RE_XML_TAG.exec(s)) {\n        // preceding text\n        const text = e.index && s.slice(lastIndex, e.index);\n        if (text && !text.match(RE_EMPTY)) {\n            ctx[0].addChild('#text').setText(text);\n        }\n        // closing tag\n        if (e[2]) {\n            if (ctx[0].tag !== e[3]) {\n                throw new Error(\n                    (key || '') + ' XML Parse closing tag does not match at: ' + e.index +\n                    ' near ' +\n                    e.input.slice(Math.max(e.index - 150, 0), e.index) +\n                    '^^^^' +\n                    e.input.slice(e.index, Math.min(e.index + 150, e.input.length))\n                );\n            }\n            ctx.shift();\n        } else {\n            const elt = ctx[0].addChild(e[3], parseAttrs(e[4]));\n            // not single tag\n            if (!(e[5] || (e[3] in SINGLE_TAGS))) {\n                ctx.unshift(elt);\n                if (ctx.length === 1) {\n                    throw new Error('Parse error at: ' + e[0]);\n                }\n            }\n        }\n        // up past index\n        lastIndex = RE_XML_TAG.lastIndex;\n    }\n    // tail text omitted\n    return ctx[0].getChild(0);\n};\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"/* positions */\\n.sticky {\\n  top: 0px;\\n  position: -webkit-sticky;\\n  position: sticky;\\n}\\n.float-right {\\n    float: right;\\n}\\n.relative {\\n    position: relative;\\n}\\n.fixed {\\n    position: fixed;\\n}\\n.top-right{\\n    position:absolute;right:1rem;top:1rem;\\n}\\n\\n/* flex */\\n.flexoid {\\n    display: flex;\\n    flex-direction: row;\\n}\\n.flexoid.column, .stack {\\n    display: flex;\\n    flex-direction: column;\\n}\\n.flex, .flex1, .flex-1 {\\n  flex: 1 1 0;\\n  min-height: 0;\\n}\\n.flex2 {\\n  flex: 2 2 0;\\n  min-height: 0;\\n}\\n.flex0 {\\n  flex: 0;\\n}\\n\\n /* size */\\n .w100 {\\n    width: 100%;\\n}\\n.h100 {\\n    height: 100%;\\n}\\n\\n.m-0{\\n  margin:0;\\n}\\n.mx-n4{\\n  margin-left:-1rem;\\n  margin-right:-1rem;\\n}\\n.m-4{\\n  margin:16px;\\n}\\n.p-4{\\n  padding:16px\\n}\\n\\n.px-4{\\n  padding-left:16px;\\n  padding-right:16px;\\n}\\n\\n/* Utilities */\\n\\n.text-pre-line {\\n  white-space: pre-line;\\n}\\n.text-center{\\n    text-align: center;\\n}\\n.text-strip {\\n  white-space: nowrap;\\n  text-overflow: ellipsis;\\n  vertical-align: middle;\\n  line-height: 1.2rem;\\n  overflow: hidden;\\n}\\n\\n.text-small {\\n    font-size: 80%;\\n    font-weight: 400;\\n}\\n.text-smaller {\\n    font-size: 65%;\\n    font-weight: 400;\\n}\\n\\n.blur {\\n  backdrop-filter: blur(5px);background: rgba(247,248,249,.65);\\n}\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\n// eslint-disable-next-line func-names\nmodule.exports = function (useSourceMap) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = cssWithMappingToString(item, useSourceMap);\n\n      if (item[2]) {\n        return \"@media \".concat(item[2], \" {\").concat(content, \"}\");\n      }\n\n      return content;\n    }).join('');\n  }; // import a list of modules into the list\n  // eslint-disable-next-line func-names\n\n\n  list.i = function (modules, mediaQuery, dedupe) {\n    if (typeof modules === 'string') {\n      // eslint-disable-next-line no-param-reassign\n      modules = [[null, modules, '']];\n    }\n\n    var alreadyImportedModules = {};\n\n    if (dedupe) {\n      for (var i = 0; i < this.length; i++) {\n        // eslint-disable-next-line prefer-destructuring\n        var id = this[i][0];\n\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n\n    for (var _i = 0; _i < modules.length; _i++) {\n      var item = [].concat(modules[_i]);\n\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        // eslint-disable-next-line no-continue\n        continue;\n      }\n\n      if (mediaQuery) {\n        if (!item[2]) {\n          item[2] = mediaQuery;\n        } else {\n          item[2] = \"\".concat(mediaQuery, \" and \").concat(item[2]);\n        }\n      }\n\n      list.push(item);\n    }\n  };\n\n  return list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n  var content = item[1] || ''; // eslint-disable-next-line prefer-destructuring\n\n  var cssMapping = item[3];\n\n  if (!cssMapping) {\n    return content;\n  }\n\n  if (useSourceMap && typeof btoa === 'function') {\n    var sourceMapping = toComment(cssMapping);\n    var sourceURLs = cssMapping.sources.map(function (source) {\n      return \"/*# sourceURL=\".concat(cssMapping.sourceRoot || '').concat(source, \" */\");\n    });\n    return [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n  }\n\n  return [content].join('\\n');\n} // Adapted from convert-source-map (MIT)\n\n\nfunction toComment(sourceMap) {\n  // eslint-disable-next-line no-undef\n  var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n  var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n  return \"/*# \".concat(data, \" */\");\n}","\"use strict\";\n\nvar isOldIE = function isOldIE() {\n  var memo;\n  return function memorize() {\n    if (typeof memo === 'undefined') {\n      // Test for IE <= 9 as proposed by Browserhacks\n      // @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n      // Tests for existence of standard globals is to allow style-loader\n      // to operate correctly into non-standard environments\n      // @see https://github.com/webpack-contrib/style-loader/issues/177\n      memo = Boolean(window && document && document.all && !window.atob);\n    }\n\n    return memo;\n  };\n}();\n\nvar getTarget = function getTarget() {\n  var memo = {};\n  return function memorize(target) {\n    if (typeof memo[target] === 'undefined') {\n      var styleTarget = document.querySelector(target); // Special case to return head of iframe instead of iframe itself\n\n      if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n        try {\n          // This will throw an exception if access to iframe is blocked\n          // due to cross-origin restrictions\n          styleTarget = styleTarget.contentDocument.head;\n        } catch (e) {\n          // istanbul ignore next\n          styleTarget = null;\n        }\n      }\n\n      memo[target] = styleTarget;\n    }\n\n    return memo[target];\n  };\n}();\n\nvar stylesInDom = [];\n\nfunction getIndexByIdentifier(identifier) {\n  var result = -1;\n\n  for (var i = 0; i < stylesInDom.length; i++) {\n    if (stylesInDom[i].identifier === identifier) {\n      result = i;\n      break;\n    }\n  }\n\n  return result;\n}\n\nfunction modulesToDom(list, options) {\n  var idCountMap = {};\n  var identifiers = [];\n\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i];\n    var id = options.base ? item[0] + options.base : item[0];\n    var count = idCountMap[id] || 0;\n    var identifier = \"\".concat(id, \" \").concat(count);\n    idCountMap[id] = count + 1;\n    var index = getIndexByIdentifier(identifier);\n    var obj = {\n      css: item[1],\n      media: item[2],\n      sourceMap: item[3]\n    };\n\n    if (index !== -1) {\n      stylesInDom[index].references++;\n      stylesInDom[index].updater(obj);\n    } else {\n      stylesInDom.push({\n        identifier: identifier,\n        updater: addStyle(obj, options),\n        references: 1\n      });\n    }\n\n    identifiers.push(identifier);\n  }\n\n  return identifiers;\n}\n\nfunction insertStyleElement(options) {\n  var style = document.createElement('style');\n  var attributes = options.attributes || {};\n\n  if (typeof attributes.nonce === 'undefined') {\n    var nonce = typeof __webpack_nonce__ !== 'undefined' ? __webpack_nonce__ : null;\n\n    if (nonce) {\n      attributes.nonce = nonce;\n    }\n  }\n\n  Object.keys(attributes).forEach(function (key) {\n    style.setAttribute(key, attributes[key]);\n  });\n\n  if (typeof options.insert === 'function') {\n    options.insert(style);\n  } else {\n    var target = getTarget(options.insert || 'head');\n\n    if (!target) {\n      throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n    }\n\n    target.appendChild(style);\n  }\n\n  return style;\n}\n\nfunction removeStyleElement(style) {\n  // istanbul ignore if\n  if (style.parentNode === null) {\n    return false;\n  }\n\n  style.parentNode.removeChild(style);\n}\n/* istanbul ignore next  */\n\n\nvar replaceText = function replaceText() {\n  var textStore = [];\n  return function replace(index, replacement) {\n    textStore[index] = replacement;\n    return textStore.filter(Boolean).join('\\n');\n  };\n}();\n\nfunction applyToSingletonTag(style, index, remove, obj) {\n  var css = remove ? '' : obj.media ? \"@media \".concat(obj.media, \" {\").concat(obj.css, \"}\") : obj.css; // For old IE\n\n  /* istanbul ignore if  */\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = replaceText(index, css);\n  } else {\n    var cssNode = document.createTextNode(css);\n    var childNodes = style.childNodes;\n\n    if (childNodes[index]) {\n      style.removeChild(childNodes[index]);\n    }\n\n    if (childNodes.length) {\n      style.insertBefore(cssNode, childNodes[index]);\n    } else {\n      style.appendChild(cssNode);\n    }\n  }\n}\n\nfunction applyToTag(style, options, obj) {\n  var css = obj.css;\n  var media = obj.media;\n  var sourceMap = obj.sourceMap;\n\n  if (media) {\n    style.setAttribute('media', media);\n  } else {\n    style.removeAttribute('media');\n  }\n\n  if (sourceMap && btoa) {\n    css += \"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), \" */\");\n  } // For old IE\n\n  /* istanbul ignore if  */\n\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    while (style.firstChild) {\n      style.removeChild(style.firstChild);\n    }\n\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar singleton = null;\nvar singletonCounter = 0;\n\nfunction addStyle(obj, options) {\n  var style;\n  var update;\n  var remove;\n\n  if (options.singleton) {\n    var styleIndex = singletonCounter++;\n    style = singleton || (singleton = insertStyleElement(options));\n    update = applyToSingletonTag.bind(null, style, styleIndex, false);\n    remove = applyToSingletonTag.bind(null, style, styleIndex, true);\n  } else {\n    style = insertStyleElement(options);\n    update = applyToTag.bind(null, style, options);\n\n    remove = function remove() {\n      removeStyleElement(style);\n    };\n  }\n\n  update(obj);\n  return function updateStyle(newObj) {\n    if (newObj) {\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap) {\n        return;\n      }\n\n      update(obj = newObj);\n    } else {\n      remove();\n    }\n  };\n}\n\nmodule.exports = function (list, options) {\n  options = options || {}; // Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n  // tags it will allow on a page\n\n  if (!options.singleton && typeof options.singleton !== 'boolean') {\n    options.singleton = isOldIE();\n  }\n\n  list = list || [];\n  var lastIdentifiers = modulesToDom(list, options);\n  return function update(newList) {\n    newList = newList || [];\n\n    if (Object.prototype.toString.call(newList) !== '[object Array]') {\n      return;\n    }\n\n    for (var i = 0; i < lastIdentifiers.length; i++) {\n      var identifier = lastIdentifiers[i];\n      var index = getIndexByIdentifier(identifier);\n      stylesInDom[index].references--;\n    }\n\n    var newLastIdentifiers = modulesToDom(newList, options);\n\n    for (var _i = 0; _i < lastIdentifiers.length; _i++) {\n      var _identifier = lastIdentifiers[_i];\n\n      var _index = getIndexByIdentifier(_identifier);\n\n      if (stylesInDom[_index].references === 0) {\n        stylesInDom[_index].updater();\n\n        stylesInDom.splice(_index, 1);\n      }\n    }\n\n    lastIdentifiers = newLastIdentifiers;\n  };\n};","/** ***********************\n * Arrays.\n */\n\nArray.EMPTY = Object.freeze([]);\nArray.slice = (x, b = 0, e) => x ? x.slice(b, e) : [];\n\n/**\n * Builds histogram on given field for given list.\n *\n * @param {*} list source\n * @param {*} field to be used as group key\n */\nArray.groupBy = function (list, field = 'type') {\n    const result = {};\n    const fieldFn = typeof field === 'string' ? e => e[field] : field;\n    const iter = (v, entry) => {\n        const slot = result[v] || (result[v] = { id: v, count: 0, subs: [] });\n        slot.count++;\n        (slot.items || (slot.items = slot.subs)).push(entry);\n    };\n    (list || []).forEach((e) => {\n        const value = fieldFn(e);\n        if (Array.isArray(value)) {\n            value.forEach(v => iter(v, e));\n        } else {\n            iter(value, e);\n        }\n    });\n    return result;\n}\n\n/**\n * Sorts array by element property.\n *\n * @param {*} arr source\n * @param {*} property element property to sort by\n * @param {*} order\n */\nArray.sortBy = function sortBy(arr, property = 'name', order = 1) {\n    let fn = property;\n    if (typeof property === 'string') {\n        if (property[0] === '-') {\n            /* eslint-disable */\n            order = -1;\n            property = property.substr(1);\n        }\n        fn = e => e[property];\n    }\n\n    function compare(a, b) {\n        const aa = fn(a);\n        const bb = fn(b);\n        /* eslint-disable */\n        return (aa < bb) ? -order : (aa > bb) ? order : 0;\n    }\n    return (arr || []).slice(0).sort(compare);\n}\n\n/**\n * Produces key/value index on given array.\n * \n * @param {*} arr source array\n * @param {*} idKey id key\n * @param {*} valKey value key\n */\nArray.index = Array.toHash = (arr, idKey = 'id', valKey) => {\n    const r = {};\n    if (arr) {\n        const isKeyFn = typeof idKey === 'string' ? e => e[idKey] : idKey\n        arr.forEach((e) => { r[isKeyFn(e)] = valKey ? e[valKey] : e; });\n    }\n    return r;\n};","const pad = (x, s = String(x)) => s.length === 1 ? '0' + s : s;\n\nconst dayNames = ['Ð’Ð¾ÑÐºÑ€ÐµÑÐµÐ½ÑŒÐµ', 'ÐŸÐ¾Ð½ÐµÐ´ÐµÐ»ÑŒÐ½Ð¸Ðº', 'Ð’Ñ‚Ð¾Ñ€Ð½Ð¸Ðº', 'Ð¡Ñ€ÐµÐ´Ð°', 'Ð§ÐµÑ‚Ð²ÐµÑ€Ð³', 'ÐŸÑÑ‚Ð½Ð¸Ñ†Ð°', 'Ð¡ÑƒÐ±Ð±Ð¾Ñ‚Ð°'];\nconst dayNamesShort = ['Ð’Ñ', 'ÐŸÐ½', 'Ð’Ñ‚', 'Ð¡Ñ€', 'Ð§Ñ‚', 'ÐŸÑ‚', 'Ð¡Ð±'];\n\nexport const dateLocales = {\n    ru: {\n        monthNames: ['', 'Ð¯Ð½Ð²Ð°Ñ€ÑŒ', 'Ð¤ÐµÐ²Ñ€Ð°Ð»ÑŒ', 'ÐœÐ°Ñ€Ñ‚', 'ÐÐ¿Ñ€ÐµÐ»ÑŒ', 'ÐœÐ°Ð¹', 'Ð˜ÑŽÐ½ÑŒ', 'Ð˜ÑŽÐ»ÑŒ', 'ÐÐ²Ð³ÑƒÑÑ‚', 'Ð¡ÐµÐ½Ñ‚ÑÐ±Ñ€ÑŒ', 'ÐžÐºÑ‚ÑÐ±Ñ€ÑŒ', 'ÐÐ¾ÑÐ±Ñ€ÑŒ', 'Ð”ÐµÐºÐ°Ð±Ñ€ÑŒ'],\n        monthNamesShort: ['', 'Ð¯Ð½Ð²', 'Ð¤ÐµÐ²', 'ÐœÐ°Ñ€Ñ‚', 'ÐÐ¿Ñ€', 'ÐœÐ°Ð¹', 'Ð˜ÑŽÐ½', 'Ð˜ÑŽÐ»', 'ÐÐ²Ð³', 'Ð¡ÐµÐ½', 'ÐžÐºÑ‚', 'ÐÐ¾Ñ', 'Ð”ÐµÐº'],\n        dayNames,\n        dayNamesShort,\n    }\n};\n\nexport const daysInMonth = Date.daysInMonth = (month, year) => new Date(year, month + 1, 0).getDate();\n\nexport const monthName = Date.monthName = (m, mode = '') => (dateLocales.ru[`monthNames${mode}`] || dateLocales.ru.monthNames)[m];\n\nexport const dateFractions = Date.fractions = (x = new Date()) => [x.getFullYear(), x.getMonth(), x.getDate(), x.getHours(), x.getMinutes(), x.getSeconds(), x.getMilliseconds()];\n\n/* eslint-disable complexity, no-param-reassign */\n\nDate.parseISO8601String = function (x) {\n    if (typeof x !== 'string') {\n        throw new Error(`parseISO8601String: not a string: ${x}`);\n    }\n    if (x.length === 10) {\n        x += 'T12:00';\n    }\n    const timebits = /^([0-9]{4})-([0-9]{2})-([0-9]{2})[ T]([0-9]{2}):([0-9]{2})(?::([0-9]*)(\\.[0-9]*)?)?(Z?)(([+-])([0-9]{2})([0-9]{2}))?/;\n    const m = timebits.exec(x);\n    if (!m) {\n        return null;\n    }\n    const tz = m[8]\n        ? !m[9] ? 0 : (m[10] === '+' ? -1 : +1) * ((parseInt(m[11]) * 60) + parseInt(m[12]))\n        : (new Date().getTimezoneOffset());\n    // utcdate is milliseconds since the epoch\n    const utcdate = Date.UTC(\n        parseInt(m[1]),\n        parseInt(m[2]) - 1, // months are zero-offset (!)\n        parseInt(m[3]),\n        parseInt(m[4]), parseInt(m[5]), // hh:mm\n        ((m[6] && parseInt(m[6])) || 0), // optional seconds\n        ((m[7] && parseFloat(m[7]))) || 0\n    );\n\n    return new Date(utcdate + tz * 60000);\n}\n/**\n * Universal all-weather converter to Date.\n *\n * @param {*} x any value to be converted to date\n * @returns Date instance or null\n */\nDate.narrow = (x) => {\n    const type = typeof x;\n    if (x == null) { return null; }\n    if (type === 'number' || +x == x) { return new Date(+x); }\n    if (type === 'object') {\n        // Date already\n        if (x.getTime) { return x; }\n        // having a date re-presentation method\n        if (x.toDate) { return x.toDate(); }\n        // firestore timestamp for web\n        if (x.seconds && x.nanoseconds != null) { return new Date((x.seconds * 1000) + x.nanoseconds); }\n    }\n    return Date.parseISO8601String(x);\n};\nconst DATE_FORMATTERS = {\n    hh: (date) => (pad(date.getHours())),\n    ii: (date) => (pad(date.getMinutes())),\n    hi: (date) => (pad(date.getHours()) + ':' + pad(date.getMinutes())),\n    dd: (date) => (pad(date.getDate())),\n    w: (date) => ('' + dayNames[date.getDay()]),\n    ww: (date) => ('' + dayNamesShort[date.getDay()]),\n    d: (date) => ('' + date.getDate()),\n    mmmm: (date) => (monthName(date.getMonth() + 1, '')),\n    mmm: (date) => (monthName(date.getMonth() + 1, 'Short')),\n    mm: (date) => (pad(date.getMonth() + 1)),\n    yyyy: (date) => (`${date.getFullYear()}`),\n    ll: (date) => (`${date.getTime()}`),\n};\n\n// return date repesentation in given format dd.mm.yyyy\nDate.format = (x, format = 'dd.mm.yyyy') => {\n    if (!x) {\n        return '';\n    }\n    const date = Date.narrow(x);\n    return !date ? '' : format\n        .replace(/[_]/g, '\\n')\n        .replace(/[hidwmyl]+/g, (key) => {\n            const fn = DATE_FORMATTERS[key];\n            return fn ? fn(date) : key;\n        });\n};\n\nDate.firstOfWeek = (d, x = Date.narrow(d)) => (new Date(x.getFullYear(), x.getMonth(), x.getDate() - x.getDay()));\n\nexport const formatTimezone = (tzOffset) => {\n    const toNumber = Number(tzOffset);\n    return toNumber ?\n        toNumber >= 0 ?\n            `+${pad(toNumber / 60)}:${pad(toNumber % 60)}` :\n            `-${pad(-toNumber / 60)}:${pad(-toNumber % 60)}` :\n        '';\n};\n\n\n\n\n","/**\n * Functions\n */\n\nFunction.ID = x => x;\nFunction.next = (COUNTER => (p = '') => p + (COUNTER++))(1);\nFunction.throw = (error, ErrorType = Error) => {\n    throw typeof error === 'string' ? new ErrorType(error) : error;\n};\nFunction.assert = (b, error, errorType) => b || Function.throw(error, errorType);\nFunction.compose = (...ff) => x0 => ff.reduceRight((x, f) => f(x), x0);\nFunction.swap = f => (a, b) => f(b, a);\nFunction.curry = (() => {\n    const _curry = (fn, args0, lengthLimit) => {\n        const fx = (args) => args.length >= lengthLimit ?\n            fn(...args) :\n            _curry(fn, args, lengthLimit - args.length);\n\n        return (...args) => fx([...args0, ...args]);\n    };\n    return (f, ...args) => _curry(f, args, f.length);\n})();\n\n/* Simple GUID generator. */\nFunction.guid = function guid() {\n    function s4() {\n        return Math.floor((1 + Math.random()) * 0x10000)\n            .toString(16)\n            .substring(1);\n    }\n    return `${s4() + s4()}-${s4()}-${s4()}-${s4()}-${s4()}${s4()}${s4()}`;\n}\n\n/* eslint-disable */\n/* Simple hash function. */\nFunction.hash = function (s) {\n    let a = 1,\n        c = 0,\n        h,\n        o;\n    if (s) {\n        a = 0;\n        /* jshint plusplus:false bitwise:false */\n        for (h = s.length - 1; h >= 0; h--) {\n            o = s.charCodeAt(h);\n            a = (a << 6 & 268435455) + o + (o << 14);\n            c = a & 266338304;\n            a = c !== 0 ? a ^ c >> 21 : a;\n        }\n    }\n    return String(a);\n};","import './obj.js';\nimport './str.js';\nimport './arr.js';\nimport './fn.js';\nimport './url.js';\nimport './date.js';\n","\n/** ***********************\n * Objects.\n */\n\n/**\n * Checks if argument is empty .\n */\nObject.EMPTY = Object.freeze({});\nObject.isEmpty = (x) => {\n    if (!x) {\n        return true;\n    }\n    if (x instanceof Object) {\n        // (zero-length array)\n        if (Array.isArray(x)) {\n            return x.length === 0;\n        }\n        // (zero-size map)\n        if (x instanceof Map) {\n            return x.size === 0;\n        }\n        // (has no props)\n        return Object.keys(x).length === 0;\n    }\n    return false;\n};\n\n/**\n * Digs value in a given object structure by a given path.\n *\n * @param {*} o source object\n * @param {*} steps path\n * @param {*} def default value\n */\nObject.dig = (o, steps) => steps.split('.').reduce((r, e) => r ? r[e] : void 0, o);\n","\n/**\n * Formats given string template with params.\n *\n * Template should contain placeholders like `{someKey}`,\n * which will be replaced with value by key from params.\n *\n * @param {string} template string template\n * @param {object} params hash with parameters\n */\nString.format = (template, params) => {\n    return `${template || ''}`.replace(/\\{([\\S]+)\\}/i, (_, key) => ((params && params[key]) != null) ? params[key] : '');\n};\nString.wrap = (x, template) => {\n    return !x ? '' : `${template || '*'}`.replace('*', x);\n};\n\nfunction capitalize(x) {\n    if (!x) {\n        return x;\n    }\n    const s = `${x}`;\n\n    return s[0].toUpperCase() + s.slice(1);\n}\nfunction camelize(s, sep = '_') {\n    return ((s && s.length && s.split(sep).map((t, i) => (i ? capitalize(t) : t)).join('')) || ``)\n}\nString.tail = (x, sep = '.') => {\n    if (!x) {\n        return '';\n    }\n    const pos = x.lastIndexOf(sep);\n\n    return pos === -1 ? x : x.slice(pos + sep.length);\n};\n\nString.lastTail = (key, sep = '.') => ('' + key).split(sep).slice(-1)[0];\n\nString.head = (x, sep = '.') => {\n    if (!x) {\n        return '';\n    }\n    const pos = x.indexOf(sep);\n\n    return pos === -1 ? x : x.slice(0, pos);\n};\n\n\nString.pad = (x, size = 2, fill = '0') => {\n    let s = String(x);\n    while (s.length < (size)) { s = `${fill}${s}`; }\n    return s;\n};\nString.capitalize = capitalize;\nString.camelize = camelize;\nString.mirror = (x) => (x || '').split('').reduce((r, c) => (c + r), '');\nString.snakeCase = (x) => (x || '').replace(/([a-z])([A-Z])/g, '$1_$2');\nString.proper = (s) => capitalize(camelize(s));\nString.upper = s => ('' + s).toUpperCase();","/**\n * Parses string into URL object.\n *\n * @param {string} s string in format: `type:target/path?params#data`\n * @param {object} r optional target object\n * @returns URL object like `{type, target, path, params, data }`\n */\nObject.urlParse = function (s, r = {}) {\n  if (!s) {\n    return { path: [], params: {}, target: '', ...r };\n  }\n  if (typeof s === 'object') {\n    return { path: [], params: {}, target: '', ...r, ...s };\n  }\n  let p;\n  // extract type:\n  p = s.indexOf(':');\n  if (p > -1) {\n    r.type = s.slice(0, p);\n    s = s.slice(p + 1);\n  }\n  // extract data:\n  p = s.indexOf('#');\n  if (p > -1) {\n    r.data = decodeValue(s.slice(p + 1));\n    s = s.slice(0, p);\n  }\n  // extract query params:\n  p = s.indexOf('?');\n  r.params = r.params || {};\n  if (p > -1) {\n    for (let param of s.slice(p + 1).split('&')) {\n      let [key, value] = param.split('=');\n      if (value) {\n        r.params[key] = decodeValue(value);\n      }\n    }\n    s = s.slice(0, p);\n  }\n  // target and path:\n  let path = r.path = s.split('/').map(decodeURIComponent);\n  while (path.length && !r.target) {\n    r.target = path.shift();\n  }\n  return r;\n}\n\n/**\n*  Represents an URL object as a string\n*\n* @param {object} r URL object like `{type, target, path, params, data }`\n* @returns string in format `type:target/path?params#data`\n*/\nObject.urlStringify = function (r) {\n  let result = '';\n  if (!r) {\n    return result;\n  }\n  if (typeof r === 'string') {\n    return r;\n  }\n  if (r.target) {\n    if (r.type) {\n      result += `${r.type}://`;\n    }\n    result += r.target;\n  }\n  if (r.path) {\n    result += `/${Array.isArray(r.path) ? r.path.map(encodeURIComponent).join('/') : r.path}`;\n  }\n  const params = r.params;\n  if (params) {\n    const keys = Object.keys(params).filter(key => (params[key] != null));\n    if (keys.length) {\n      result += `?${keys.map(key => (`${key}=${encodeValue(params[key])}`)).join('&')}`;\n    }\n  }\n  if (r.data) {\n    result += `#${encodeValue(r.data)}`;\n  }\n  return result;\n}\n\nconst VALUE_MAP = {\n  true: true,\n  false: false,\n  undefined\n};\n\nfunction decodeValue(val) {\n  const value = decodeURIComponent(val);\n  if ('{['.indexOf(value[0]) > -1) {\n    return JSON.parse(value);\n  }\n  const num = +value;\n  if (value.length <= 17 && !isNaN(num)) {\n    return num;\n  }\n  return VALUE_MAP[value] || value;\n}\n\nfunction encodeValue(value) {\n  return encodeURIComponent((typeof value === 'object') ? JSON.stringify(value) : `${value}`);\n}\n"],"sourceRoot":""}