{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap","webpack:///./lib/compile.js","webpack:///./lib/component.js","webpack:///./lib/dom.js","webpack:///./lib/register.js","webpack:///./lib/render.js","webpack:///./lib/resolve.js","webpack:///./lib/xml.js"],"names":["VALUES","RE_SINGLE_PLACEHOLDER","RE_PLACEHOLDER","res","key","split","id","deep","target","app","resources","length","reduce","r","k","pipe","value","args","fn","call","owner","actualOwner","apply","impl","map","a","prop","slice","ex","console","error","expression","v","placeholder","includes","match","trim","stringInterpolation","fnx","pattern","replace","s","expr","push","c","idx","pipes","initGettr","pipec","withPipes","initialValue","pk","assignKeyValue","acc","val","makeApplicator","get","hasSlot","content","forEach","e","tag","filterMapKey","src","Map","set","compileFor","attrs","uid","nodes","itemId","$for","inits","connect","rr","$data","updates","$nodes","emptyNode","find","compileNode","filter","loadingNode","itemNode","compileIf","aIf","iff","$if","neg","applicator","gttr","$then","ifElse","ifThen","then","compileTag","$tag","compile","has","ref","aProps","getter","Object","assign","v2","ekey","emitter","data","cb","emit","initials","node","COUNTER","nextId","p","methodName","x","pre","toUpperCase","Component","Ctor","options","parent","props","ctx","elt","$","hidden","defer","Error","d","index","$ownerImpl","create","up","Î”","$owner","$propFnMap","resolveTemplate","cursor","prevElt","render","resolveFragmentTemplate","constructor","$TEMPLATE","isDone","isInited","f","init","done","eachChild","children","nextElt","defered","changed","notify","promise","racer","raceCondition","akey","upAsync","entries","their","setter","propId","propGetter","bindFn","path","gettr","extractor1","$$","undefined","listeners","notifying","uuid","type","subscribe","event","warn","method","ReferenceError","result","log","COUNTERS","$weak","counter","run","ch","$boundFnMap","bound","bind","camelize","sep","jn","i","join","DOM_SETTERS","textContent","disabled","cl","fl","eq","indexOf","className","selected","checked","$dataset","keys","dataset","click","setAttribute","ev","$attributes","blur","dblclick","scroll","getAttribute","keypress","keyCode","setTimeout","focus","enter","change","toggle","DOM_VALUE_COMPARATORS","_","mine","Element","document","createTextNode","createElement","applyAttributes","lstnrs","$listeners","removeEventListener","parentElement","removeChild","delta","before","nextSibling","firstChild","appendChild","insertBefore","theirs","mines","hasOwnProperty","def","fnValue","addEventListener","removeAttribute","App","rootElement","body","window","requestAnimationFrame","launch","types","template","name","NAME","registerTypes","concat","ANY","fnName","ctor","exec","toString","REGISTRY","reg","ctr","text","TEMPLATE","prototype","T","parseXML","getByTag","$content","size","cc","resolveSlot","vv","resolveTemplateArray","tmpl","m","t","resolveProps","resolveRegular","RE_XML_ENTITY","RE_XML_COMMENT","RE_ATTRS","RE_ESCAPE_XML_ENTITY","RE_XML_TAG","SINGLE_TAGS","SUBST_XML_ENTITY","amp","gt","lt","quot","nbsp","ESCAPE_XML_ENTITY","RE_EMPTY","FN_ESCAPE_XML_ENTITY","charCodeAt","FN_XML_ENTITY","substring","String","fromCharCode","decodeXmlEntities","escapeXml","skipQoutes","UID","parseAttrs","stringifyAttrs","Node","stringify","tab","sattrs","ssubs","stext","_s","lastIndex","addChild","setText","input","Math","max","min","shift","unshift","getChild"],"mappings":"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","file":"index.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(this, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./lib/dom.js\");\n","\nconst VALUES = { true: true, false: false, null: null };\nconst RE_SINGLE_PLACEHOLDER = /^\\{([^}]+)\\}$/;\nconst RE_PLACEHOLDER = /\\{([^}]+)\\}/g;\n\nfunction res(key) {\n  const [id, ...deep] = key.split('.');\n  const target = id==='app' ? this.app : this.app.resources[id];\n  if (deep.length===0) {\n    return target;\n  }\n  if (deep.length===1) {\n    return target[deep[0]];\n  }\n  return deep.reduce((r, k) => r ? r[k] : null, target)\n}\n\nfunction pipe(value, key) {\n  const [id, ...args] = key.split(':')\n  try {\n    const fn = res.call(this, id);\n    const owner = this.actualOwner;\n    return fn.apply(owner.impl, [value, ...args.map(a=> a[0]==='@'?owner.prop(a.slice(1)):a)]);\n  } catch (ex) {\n    console.error('ERROR: Object.pipes.' + id, ex)\n    return value;\n  }\n}\n\n\n// Compilation\nexport function expression(v) {\n  if (v[0] === ':') { return placeholder(v); }\n  if (!v.includes('{')) { const r = v in VALUES ? VALUES[v] : v; return () => r; }\n  if (v.match(RE_SINGLE_PLACEHOLDER)) { return placeholder(v.slice(1, -1).trim()); }\n  return stringInterpolation(v);\n}\n\nexport function stringInterpolation(v, fnx = []) {\n  const pattern = v.replace(RE_PLACEHOLDER, (s, expr) => { fnx.push(placeholder(expr)); return '{{' + (fnx.length - 1) + '}}'; });\n  return c => !fnx.length ? pattern : pattern.replace(/\\{\\{(\\d+)\\}\\}/g, (s, idx) => {\n    const r = fnx[idx](c);\n    return !r && r !== 0 ? '' : r;\n  });\n}\n\nexport function placeholder(expr) {\n  const [key, ...pipes] = expr.split('|').map(s => s.trim());\n  const initGettr = (key[0] === ':')\n    ? (fn => c => res.call(c, fn(c)))(stringInterpolation(key.slice(1).trim()))\n    : c => c.prop(key)\n  const pipec = withPipes(pipes)\n  return c => pipec(c, initGettr(c))\n}\n\nexport function withPipes(pipes) {\n  return !pipes.length ? (c, v) => v : (c, initialValue) => pipes.reduce((r, pk) => pipe.call(c, r, pk), initialValue);\n}\n\nconst assignKeyValue = (acc, val, k) => {\n  if (k.slice(0, 5) === 'data-') {\n    acc['data'] = { ...acc['data'], [k.slice(5)]: val in VALUES ? VALUES[val] : val };\n  } else {\n    acc[k] = val;\n  }\n}\n\nconst makeApplicator = (get, k = '_') => (c, acc) => assignKeyValue(acc, get(c), k);\nconst hasSlot = (c, id) => {\n  let r = false;\n  if (id && id != 'default') {\n    c.content && c.content.forEach((e) => { r = r || (e.tag === c.tag + ':' + id) });\n  } else {\n    c.content && c.content.forEach((e) => { r = r || (e.tag.slice(0, c.tag.length + 1) !== c.tag + ':') });\n  }\n  return r\n}\n\nexport const filterMapKey = (src, key) => {\n  const r = new Map();\n  src.forEach((v, k) => { if (k !== key) { r.set(k, v); } });\n  return r;\n};\n\nexport function compileFor({ tag, attrs, uid, nodes }) {\n  const [itemId, , expr] = attrs.get('ui:for').split(' ');\n  const $for = { itemId };\n  const r = { tag: 'ui:fragment', uid: 'for:' + expr + uid, $for, key: attrs.get('key') };\n  if ((expr.slice(0, 2) === '<-')) {\n    const [key, ...pipes] = expr.slice(2).split('|').map(s => s.trim());\n    const pipec = withPipes(pipes);\n    (r.inits || (r.inits = [])).push(c => c.connect(key, rr => ({ $data: pipec(c, rr) })));\n  } else {\n    (r.updates || (r.updates = [])).push(makeApplicator(expression('{:'.includes(expr[0]) ? expr : '{' + expr + '}'), '$data'));\n  }\n  let $nodes = nodes;\n  if (nodes && nodes.length) {\n    const emptyNode = $nodes.find(e => e.tag === 'ui:empty');\n    if (emptyNode) {\n      $for.emptyNode = emptyNode.nodes.map(compileNode);\n      $nodes = $nodes.filter(e => e !== emptyNode);\n    }\n    const loadingNode = $nodes.find(e => e.tag === 'ui:loading');\n    if (loadingNode) {\n      $for.loadingNode = loadingNode.nodes.map(compileNode);\n      $nodes = $nodes.filter(e => e !== loadingNode);\n    }\n  }\n  $for.itemNode = compileNode({ tag, attrs: filterMapKey(attrs, 'ui:for'), uid, nodes: $nodes });\n  return r;\n}\n\nexport function compileIf({ tag, attrs, uid, nodes }) {\n  const aIf = attrs.get('ui:if')\n  const iff = {};\n  const r = {\n    tag: 'ui:fragment',\n    uid: 'if:' + aIf + uid,\n    key: attrs.get('key'), $if: iff,\n  };\n  const neg = aIf[0] === '!';\n  const expr = neg ? aIf.slice(1) : aIf;\n\n  if ((expr.slice(0, 2) === '<-')) {\n    const [key, ...pipes] = expr.slice(2).split('|').map(s => s.trim());\n    const pipec = withPipes(pipes);\n    const applicator = neg ? (c => rr => ({ $data: !pipec(c, rr) })) : (c => rr => ({ $data: (!!pipec(c, rr)) }));\n    (r.inits || (r.inits = [])).push(c => c.connect(key, applicator(c)));\n  } else if ((expr.slice(0, 5) === 'slot(')) {\n    const gttr = c => hasSlot(c, expr.slice(5, -1));\n    (r.updates || (r.updates = [])).push((c, acc) => { acc['$data'] = neg ? !gttr(c) : gttr(c); });\n  } else {\n    const gttr = expression(expr.includes('{') ? expr : '{' + expr + '}');\n    (r.updates || (r.updates = [])).push((c, acc) => { acc['$data'] = neg ? !gttr(c) : gttr(c); });\n  }\n  let $then = { tag, attrs: filterMapKey(attrs, 'ui:if'), uid, nodes };\n  if (nodes && nodes.length) {\n    const ifElse = nodes.find(e => e.tag === 'ui:else');\n    const ifThen = nodes.find(e => e.tag === 'ui:then');\n    if (ifElse) {\n      iff.else = ifElse.nodes.map(compileNode);\n      $then.nodes = ifThen ? ifThen.nodes : nodes.filter(e => e !== ifElse);\n    } else if (ifThen) {\n      $then.nodes = ifThen.nodes;\n    }\n  }\n  iff.then = [$then].map(compileNode);\n  return r;\n}\n\nexport function compileTag({ attrs, uid, nodes }) {\n  const expr = attrs.get('tag')\n  const r = {\n    tag: 'ui:fragment',\n    uid: 'tag:' + expr + uid,\n    $tag: compile({ attrs: filterMapKey(attrs, 'tag'), nodes }),\n  };\n  if ((expr.slice(0, 2) === '<-')) {\n    (r.inits || (r.inits = [])).push(c => c.connect(expr.slice(2).trim(), (rr => ({ $data: rr }))));\n  } else {\n    const gttr = expression(expr);\n    (r.updates || (r.updates = [])).push((c, acc) => { acc['$data'] = gttr(c); });\n  }\n  return r;\n}\nexport function compile(r) {\n  const { attrs, nodes } = r;\n  if (attrs.has('id')) { r.id = attrs.get('id') }\n  if (attrs.has('ui:ref')) { r.ref = attrs.get('ui:ref') }\n  // ui:props\n  if (attrs.has('ui:props')) {\n    const aProps = attrs.get('ui:props');\n    if ((aProps.slice(0, 2) === '<-')) {\n      const [key, ...pipes] = aProps.slice(2).split('|').map(s => s.trim());\n      const pipec = withPipes(pipes);\n      (r.inits || (r.inits = [])).push(c => c.connect(key, rr => pipec(c, rr)));\n    } else {\n      const getter = expression(aProps);\n      (r.updates || (r.updates = [])).push((c, acc) => Object.assign(acc, getter(c)));\n    }\n  }\n  // attrs\n  attrs.forEach((v, k) => {\n    if (k.slice(0, 3) !== 'ui:') {\n      const v2 = v.slice(0, 2)\n      if (v2 === '<-') {\n        const [key, ...pipes] = v.slice(2).split('|').map(s => s.trim());\n        const pipec = withPipes(pipes);\n        (r.inits || (r.inits = [])).push(c => c.connect(key, rr => ({ [k]: pipec(c, rr) })));\n      } else if (v2 === '->') {\n        const [key, ...pipes] = v.slice(2).split('|').map(s => s.trim());\n        const expr = expression(key);\n        const pipec = withPipes(pipes);\n        const ekey = '$' + v + ':' + r.uid;\n        const emitter = c => c[ekey] || (c[ekey] = (data, cb) => c.emit(expr(c), pipec(c, data), cb));\n        (r.updates || (r.updates = [])).push((c, acc) => assignKeyValue(acc, emitter(c), k));\n      } else {\n        if (!v.includes('{') && v[0] !== ':' && k.slice(0, 5) !== 'data-') {\n          assignKeyValue((r.initials || (r.initials = {})), v, k);\n        } else {\n          (r.updates || (r.updates = [])).push(makeApplicator(expression(v), k));\n        }\n      }\n    }\n  });\n\n  r.nodes = nodes.map(compileNode)\n\n  return r;\n}\n\nexport function compileNode(node) {\n  if (node.attrs.has('ui:for')) { return compileFor(node); }\n  if (node.attrs.has('ui:if')) { return compileIf(node); }\n  if (node.tag === 'ui:tag') { return compileTag(node); }\n  return compile(node);\n}\n\n","/* eslint-disable no-console */\nimport { render } from './render.js';\nimport { resolveTemplate } from './resolve.js';\n\nlet COUNTER = 1;\n\nconst nextId = (p = '') => p + (COUNTER++);\n\nexport const methodName = (x, pre = '') => {\n  if (!x) { return pre; }\n  const s = `${x}`;\n  return pre + s[0].toUpperCase() + s.slice(1);\n};\n\nexport class Component {\n\n  constructor(Ctor, options) {\n    Object.assign(this, options);\n    const { ref, parent, props } = this\n    if (parent) {\n      this.app = parent.app;\n      this.ctx = this.elt = parent.elt;\n      this.impl = new Ctor(props, this);\n      this.impl.$ = this;\n      this.impl.app = this.app;\n      if (ref) {\n        const hidden = this.app[ref];\n        this.app[ref] = this.impl;\n        this.defer(() => { this.app[ref] = hidden })\n      }\n    } else {\n      this.app = this.impl = new Ctor(props, this);\n      this.impl.$ = this;\n    }\n  }\n\n  /**\n   * Rendering.\n   */\n  resolveFragmentTemplate() {\n    const acc = new Map();\n\n    if (this.$for) { // ui:for\n      const $for = this.$for;\n      const { $data: data } = this.impl;\n      const { itemId, itemNode, emptyNode, loadingNode } = $for;\n      const { tag, updates, initials = {}, nodes, uid } = itemNode;\n      if (data && data.length) {\n        if (!data.forEach) {\n          throw new Error('wrong ui:for data', data)\n        }\n        data.forEach((d, index) => {\n          const id = `${uid}-$${d.id || index}`;\n          const $ownerImpl = Object.assign(Object.create(this.owner.impl), { [itemId]: d, [itemId + 'Index']: index })\n          const up = Î” => this.owner.up(Î”)\n          const $owner = Object.assign(Object.create(this.owner), { impl: $ownerImpl, $propFnMap: {}, up })\n          resolveTemplate($owner, { tag, initials, updates, nodes, uid: id }, acc);\n        });\n      } else if (!data) {\n        if (loadingNode) { resolveTemplate(this.owner, loadingNode, acc); }\n      } else if (!data.length) {\n        if (emptyNode) { resolveTemplate(this.owner, emptyNode, acc); }\n      }\n\n    } else if (this.$if) { // ui:if\n      const $if = this.$if;\n      const { $data } = this.impl;\n      const node = $data ? $if.then : $if.else;\n      resolveTemplate(this, node, acc);\n\n    } else if (this.$tag) { // ui:tag\n      const tag = this.impl.$data;\n      if (tag) {\n        resolveTemplate(this, { ...this.$tag, tag, uid: tag + ':' + this.uid }, acc);\n      }\n\n    } else if (this.content) { // content\n      this.content.forEach((v, k) => acc.set(k, v));\n    }\n    return acc;\n  }\n\n  render() {\n    this.ctx.cursor = this.prevElt;\n    if (this.impl.render) {\n      this.impl.render(this, render);\n    } else {\n      render(this);\n    }\n  }\n\n  resolveTemplate() {\n    return (this.tag === 'ui:fragment')\n      ? this.resolveFragmentTemplate()\n      : resolveTemplate(this, this.impl.constructor.$TEMPLATE())\n  }\n\n  /**\n   * Life-cycle hooks.\n   */\n  init() {\n    if (this.isDone || this.isInited) { return; }\n    this.isInited = true;\n    // console.log('init', this.tag, this.uid)\n    if (this.inits) {\n      this.inits.forEach(f => this.defer(f(this)));\n      delete this.inits;\n    }\n    if (this.impl.init) {\n      const d = this.impl.init(this)\n      if (d) { this.up(d); }\n    }\n  }\n\n  done() {\n    if (this.isDone) { return; }\n    this.isDone = true;\n    if (this.impl.done) {\n      this.impl.done(this);\n    }\n    // console.log('done', this.tag, this.uid)\n    this.eachChild(c => { c.parent = null; c.done(); });\n    if (this.parent) {\n      this.parent.children.delete(this.uid);\n    }\n    if (this.prevElt) {\n      this.prevElt.nextElt = this.nextElt;\n    }\n    if (this.defered) {\n      this.defered.forEach(f => f(this));\n      delete this.defered;\n    }\n    ['parent', 'children', 'owner', 'impl', 'app', 'ctx'].forEach(k => { delete this[k]; });\n  }\n\n  /**\n   * State.\n   */\n  up(Î”) {\n    if (this.isDone) { return; }\n    let changed = this.set(Î”);\n    this.render();\n    if (this.ref && changed) { this.notify(); }\n  }\n\n  upAsync(promise, key) {\n    const $ = this;\n    const racer = $.raceCondition('set:' + (key || 'up'));\n    const up = r => racer(() => $.up(r))\n    if (key && key !== '...') {\n      const akey = key.replace('Promise', '')\n      promise.then(val => up({ [akey + 'Error']: null, [akey]: val }), error => up({ [akey + 'Error']: error }));\n    } else {\n      promise.then(up, error => up({ error }));\n    }\n    return promise;\n  }\n\n  set(Î”) {\n    const $ = this;\n    const impl = $.impl;\n    let changed = false;\n    if (impl.set) {\n      changed = impl.set(Î”);\n    } else if (Î”) {\n      if (Î”.then) {\n        $.upAsync(Î”);\n      } else {\n        Object.entries(Î”).forEach(([k, their]) => {\n          if (their && their.then) {\n            $.upAsync(their, k);\n          } else if (k && typeof their !== 'undefined' && their !== impl[k]) {\n            const setter = impl['set' + k[0].toUpperCase() + k.slice(1)];\n            if (setter) { setter.call(impl, their); } else { impl[k] = their; }\n            changed = true;\n          }\n        });\n      }\n    }\n    return changed;\n  }\n\n  prop(propId) {\n    const value = this.propGetter(propId)();\n    return (typeof value === 'function') ? this.bindFn(value) : value;\n  }\n\n  propGetter(key) {\n\n    const $ = this;\n    const map = $.$propFnMap || ($.$propFnMap = {});\n    let fn = map[key];\n    if (fn) { return fn; }\n\n    const impl = $.impl\n    const [pk, ...path] = key.split('.')\n    const gettr = impl[methodName(pk, 'get')];\n\n    const extractor1 = gettr\n      ? () => gettr.call(impl)\n      : ($$ = impl.get ? impl.get(impl) : impl) =>\n        ((pk in $$) ? $$[pk] : $.owner && $.owner.prop && $.tag === 'ui:fragment' ? $.owner.prop(pk) : undefined);\n\n    fn = !path.length\n      ? extractor1\n      : () => path.reduce((r, p) => (r ? r[p] : r), extractor1())\n\n    return map[key] = fn;\n  }\n\n  /**\n   *  Arrows.\n   */\n  notify() {\n    if (this.listeners && !this.notifying) {\n      this.notifying = true\n      this.listeners.forEach(e => e(this.impl))\n      this.notifying = false\n    }\n  }\n\n  subscribe(fn) {\n    const uuid = nextId();\n    const listeners = (this.listeners || (this.listeners = new Map()))\n    fn(this.impl);\n    listeners.set(uuid, fn);\n    return () => listeners.delete(uuid);\n  }\n\n  connect(key, applicator) {\n    const [type = this.ref, target] = key.split('.');\n    const ref = type === 'this' ? this.impl : this.app[type];\n    if (!ref) { console.error('connect: No such ref ' + type, key) }\n    return ref && ref.$.subscribe(() => {\n      try {\n        const value = ref.$.prop(target);\n        this.up(applicator ? (value && value.then ? value.then(applicator) : applicator(value)) : value)\n      } catch (ex) {\n        console.error('connect ' + type + ':' + target, ex)\n      }\n    });\n  }\n\n  emit(key, data) {\n    if (!key || !key.includes('.')) { return this.actualOwner.up(key ? { [key]: data } : data) }\n\n    const [type, target] = key.split('.');\n    const event = {\n      data,\n      ...data,\n    };\n\n    const ref = type === 'this' ? this.impl : this.app[type];\n    if (!ref) { \n      console.warn('emit: No such ref ' + type);\n      return;\n    }\n    try {\n\n      const method = ref[methodName(target, 'on')];\n      if (!method) { throw new ReferenceError('emit ' + type + ': No such method ' + methodName(target, 'on')) }\n\n      const result = method.call(ref, event, ref, ref.$);\n      this.log(type + ':' + methodName(target, 'on'), result, event, ref)\n      if (result) { ref.$.up(result) }\n\n    } catch (ex) {\n      console.error('emit ' + key + ':', ex)\n    }\n  }\n\n  /**\n   * Routines.\n   */\n\n  raceCondition(key) {\n    const COUNTERS = this.$weak || (this.$weak = new Map())\n    const counter = 1 + (COUNTERS.get(key) || 0);\n    COUNTERS.set(key, counter)\n    return (fn) => {\n      if (counter === COUNTERS.get(key)) { this.app.run(fn) }\n    }\n  }\n\n  defer(fn) { if (fn && typeof fn === 'function') { (this.defered || (this.defered = [])).push(fn); } }\n\n  eachChild(fn, ch = this.children) { if (ch) { ch.forEach(fn); } }\n\n  get actualOwner() {\n    let $ = this\n    // eslint-disable-next-line no-empty\n    for (; $.owner && $.tag === 'ui:fragment'; $ = $.owner) { }\n    return $\n  }\n\n\n\n  error(...args) {\n    console.error(this.tag + this.uid, ...args)\n  }\n\n  log(...args) {\n    console.log(this.tag + this.uid, ...args)\n  }\n\n  bindFn(f) {\n    const $ = this;\n    const map = $.$boundFnMap || ($.$boundFnMap = new Map());\n    let fn = map.get(f);\n    if (!fn) {\n      const bound = f.bind($.impl);\n      fn = (...args) => {\n        const r = bound(...args);\n        if (r) {\n          $.up(r)\n        }\n      }\n      map.set(f, fn);\n    }\n    return fn;\n  }\n}\n","import { render } from './render.js';\nimport { Component } from './component.js';\nimport { registerTypes } from './register.js';\n\nconst camelize = (key, sep = '_', jn = ' ') => ('' + key).split(sep).map((s, i) => i ? s[0].toUpperCase() + s.slice(1) : s).join(jn);\n\n// DOM\nexport const DOM_SETTERS = {\n  '#text': (e, v) => (e.textContent = v == null ? '' : v),\n  disabled: (e, v) => (e.disabled = v ? true : null),\n  class: (e, v) => {\n    if (v.includes(':')) {\n      v = ('' + v).split(' ').map(s => {\n        const [cl, expr] = s.split(':')\n        if (expr === undefined) return cl;\n        const [fl, eq] = expr.split('==');\n        const disabled = eq ? fl !== eq : ['', '0', 'false', null].indexOf(fl) > -1;\n        return disabled ? '' : cl;\n      }).join(' ')\n    }\n    e.className = v;\n  },\n  selected: (e, v) => (e.selected = v ? true : null),\n  value: (e, v) => (e.value = v == null ? '' : v),\n  checked: (e, v) => (e.checked = !!v),\n  init: function (e, v) {\n    this.init = () => v(e, this)\n  },\n  data: function (e, v) {\n    if (v && e.$dataset) {\n      Object.keys(e.$dataset).forEach(k => { if (!v[k]) { e.dataset[camelize(k, '-', '')] = null } });\n    }\n    e.$dataset = { ...v };\n    if (v) {\n      Object.keys(v).forEach(k => { e.dataset[camelize(k, '-', '')] = v[k]; });\n    }\n  },\n  click: function (e, v) {\n    this.setAttribute('click:click', !v ? null : (ev) => {\n      this.$attributes.click({ ...e.$dataset }, ev);\n      return false;\n    });\n  },\n  'bubble-click': function (e, v) {\n    this.setAttribute('bubbled-click:click', !v ? null : (ev) => {\n      this.$attributes['bubble-click']({ ...e.$dataset }, ev);\n      return true;\n    });\n  },\n  blur: function (e, v) {\n    this.setAttribute('blur:blur', !v ? null : (ev) => {\n      this.$attributes.blur({ ...e.$dataset }, ev);\n      return false;\n    });\n  },\n  dblclick: function (e, v) {\n    this.setAttribute('dblclick:dblclick', !v ? null : (ev) => {\n      this.$attributes.dblclick({ ...e.$dataset }, ev);\n      return false;\n    });\n  },\n  scroll: function (e, v) {\n    this.setAttribute('scroll:scroll', !v ? null : (ev) => {\n      this.$attributes.scroll({ ...e.$dataset }, ev);\n      return false;\n    });\n  },\n  error: function (e, v) {\n    this.setAttribute('error:error', !v ? null : (ev) => {\n      const fn = this.getAttribute('error');\n      fn && fn({ ...e.$dataset }, ev);\n      return false;\n    });\n  },\n  keypress: function (e, v) {\n    this.setAttribute('keypress:keyup', !v ? null : (ev) => {\n      if (ev.keyCode !== 13 && ev.keyCode !== 27) {\n        const fn = this.$attributes.keypress;\n        fn && fn({ value: e.value, ...e.$dataset }, ev);\n        setTimeout(() => e.focus(), 0)\n      }\n      return false;\n    });\n  },\n  enter: function (e, v) {\n    this.setAttribute('enter:keyup', !v ? null : (ev) => {\n      if (ev.keyCode === 13) {\n        this.$attributes.enter({ value: e.value, ...e.$dataset }, ev);\n      }\n      if (ev.keyCode === 13 || ev.keyCode === 27) {\n        e.blur();\n      }\n      return false;\n    });\n  },\n  change: function (e, v) {\n    this.setAttribute('change:change', !v ? null : (ev) => {\n      this.$attributes.change({ value: e.value, ...e.$dataset }, ev);\n      return false;\n    });\n  },\n  toggle: function (e, v) {\n    this.setAttribute('toggle:change', !v ? null : (ev) => {\n      this.$attributes.toggle({ value: e.checked, ...e.$dataset }, ev);\n      return false;\n    });\n  }\n};\n\nexport const DOM_VALUE_COMPARATORS = {\n  value: (e, their) => (e.value === their),\n  _: (_, their, mine) => their === mine\n};\n\nexport class Element {\n\n  constructor(attrs = {}, $) {\n    this.elt = $.elt = $.tag === '#text' ? document.createTextNode('') : document.createElement($.tag);\n    this.$attributes = {}\n    this.$ = this.elt.$ = $;\n    this.applyAttributes(attrs);\n  }\n  done() {\n    const e = this.elt;\n    const lstnrs = this.$listeners;\n    if (lstnrs) {\n      Object.keys(lstnrs).forEach(k => e.removeEventListener(k, lstnrs[k]));\n      this.$listeners = null;\n    }\n    const p = e.parentElement;\n    if (p) {\n      p.removeChild(e);\n    }\n    this.elt = this.$attributes = null;\n  }\n  set(delta) {\n    this.delta = this.delta ? Object.assign(this.delta, delta) : delta;\n    return this.$.nodes || delta && Object.keys(delta).length;\n  }\n  render($) {\n    const e = this.elt;\n    const p = $.ctx;\n    if ($.content) {\n      e.cursor = null;\n      render($, $.content);\n      e.cursor = null;\n    }\n    if (this.delta) {\n      this.applyAttributes(this.delta);\n      this.delta = null;\n    }\n    const before = p.cursor ? p.cursor.nextSibling : p.firstChild;\n    if (!before) {\n      if (p !== e.parentElement) {\n        p.appendChild(e);\n      }\n    } else if (e !== before) {\n      p.insertBefore(e, before);\n    }\n    p.cursor = e;\n  }\n  applyAttributes(theirs) {\n    const e = this.elt;\n    const mines = this.$attributes;\n    for (let key in theirs) {\n      if (theirs.hasOwnProperty(key) && !(DOM_VALUE_COMPARATORS[key] || DOM_VALUE_COMPARATORS._)(e, theirs[key], mines[key])) {\n        const value = theirs[key];\n        const setter = DOM_SETTERS[key];\n        // console.log('setAttribute' + this.$.tag, key, value)\n        if (setter) {\n          setter.call(this, e, value);\n        } else {\n          this.setAttribute(key, value);\n        }\n      }\n    }\n    this.$attributes = theirs;\n  }\n  getAttribute(key, def) {\n    return (this.$attributes && this.$attributes[key]) || def\n  }\n  setAttribute(key, value) {\n    if (value != null) {\n      if (typeof value === 'function') {\n        const fnValue = (...args) => { if (!this.isDone) { value(...args) } }\n        if (!this.listeners) {\n          this.listeners = new Map();\n        }\n        if (!this.listeners.has(key)) {\n          const [akey, ekey = akey] = key.split(':')\n          this.elt.addEventListener(ekey, fnValue, false);\n          this.listeners.set(key, fnValue);\n        }\n      } else {\n        this.elt.setAttribute(key, value);\n      }\n    } else {\n      if (this.listeners && this.listeners.has(key)) {\n        const [akey, ekey = akey] = key.split(':')\n        this.elt.removeEventListener(ekey, this.listeners.get(key));\n        this.listeners.delete(key);\n      } else {\n        this.elt.removeAttribute(key);\n      }\n    }\n  }\n}\n\nclass App {\n  constructor(props, $) {\n    Object.assign(this, props);\n    $.elt = $.ctx = props.rootElement || document.body;\n  }\n  render($, render) {\n    this.run(() => render($))\n  }\n\n  run(fn){\n    window.requestAnimationFrame(() => fn.call(window, document));\n  } \n}\n\nexport function launch({ types, ...props } = {}) {\n  App.template = `<${types[0].name || types[0].NAME}/>`;\n  registerTypes([App, Element].concat(types))\n  const app = new Component(App, { props });\n  app.render();\n  app.init();\n  return app.impl;\n}\n\nif(typeof window === 'object') {\n  window.launch = launch;\n}","import { parseXML } from './xml.js';\nimport { compileNode } from './compile.js';\n\nlet COUNTER = 1;\n\nlet ANY;\n\nconst nextId = (p = '') => p + (COUNTER++);\n\nconst fnName = ctor => (/^function\\s+([\\w$]+)\\s*\\(/.exec(ctor.toString()) || [])[1] || nextId('$C');\n\nconst REGISTRY = new Map();\n\nconst reg = ctr => {\n    const ctor = typeof ctr === 'function' ? ctr : Object.assign(function () { }, ctr);\n    const name = ctor.NAME || ctor.name || fnName(ctor);\n    const text = ctor.TEMPLATE || ctor.template || ctor.prototype.TEMPLATE;\n    ctor.$TEMPLATE = () => {\n        try {\n            const T = text ? compileNode(parseXML(typeof text === 'function' ? text() : text, name)) : [];\n            ctor.$TEMPLATE = () => T;\n            return T;\n        } catch (ex) {\n            // eslint-disable-next-line no-console\n            console.error('compile ' + name, ex)\n        }\n        return []\n    }\n    if (name==='Element') {\n        ANY = ctor\n    } else {\n        REGISTRY.set(name, ctor);\n    }\n\n};\n\nreg({ NAME: 'ui:fragment' });\n\nexport const registerTypes = types => types.forEach(reg);\n\nexport const getByTag = tag => REGISTRY.get(tag) || ANY;","import { getByTag } from './register.js';\nimport { Component } from './component.js';\n\nexport const render = (c, $content = c.resolveTemplate()) => {\n\n    if (!$content || !$content.size) {\n        c.eachChild(cc => cc.done());\n        return;\n    }\n\n    c.eachChild(cc => !$content.has(cc.uid) ? cc.done() : 0);\n    const ch = c.children || (c.children = new Map());\n    $content.forEach(({ tag, content, owner, props, inits, initials, ref, $if, $for, $tag }, uid) => {\n        let cc = ch.get(uid);\n        if (!cc) {\n            props = props && props.data && initials && initials.data\n                ? { ...props, ...initials, data: { ...initials.data, ...props.data } }\n                : { ...props, ...initials }\n            cc = new Component(\n                getByTag(tag),\n                { props, tag, ref, $if, $for, $tag, uid, owner, inits, parent: c }\n            );\n            ch.set(uid, cc);\n        }\n        cc.owner = owner;\n        cc.content = content;\n        cc.prevElt = c.elt.cursor;\n        cc.up(props);\n    });\n    c.eachChild(cc => !cc.isInited ? cc.init() : 0);\n\n};\n","const resolveSlot = (owner, id, acc) => {\n    let $ = owner\n    // eslint-disable-next-line no-empty\n    for (; $.owner && $.tag === 'ui:fragment'; $ = $.owner) { }\n\n    $.content && $.content.forEach((v) => {\n        if (id) {\n            if ((v.tag === $.tag + ':' + id) && v.content) {\n                v.content.forEach(vv => acc.set(vv.uid, vv));\n            }\n        } else if (v.tag.slice(0, $.tag.length + 1) !== $.tag + ':') {\n            acc.set(v.uid, v);\n        }\n    });\n    return acc; \n};\n\nconst resolveTemplateArray = (owner, tmpl, acc = new Map()) =>\n    tmpl && tmpl.length ? tmpl.reduce((m, t) => resolveTemplate(owner, t, m), acc) : null;\n\nconst resolveProps = (props, c) =>\n    props && props.length ? props.reduce((acc, fn) => { fn(c, acc); return acc; }, {}) : null;\n\nfunction resolveRegular(acc, owner, { tag, updates, initials, inits, nodes, uid, id, ref, $if, $for, $tag }) {\n    if (tag === 'ui:slot') { return resolveSlot(owner, id, acc); }\n    const props = resolveProps(updates, owner);\n    const content = resolveTemplateArray(owner, nodes)\n    return acc.set(uid, { tag, id, uid, ref, owner, initials, inits, $if, $for, $tag, props, content });\n}\n\nexport function resolveTemplate(owner, tmpl, acc = new Map()) {\n    if (!tmpl) { return acc; }\n    if (tmpl.reduce) { return tmpl.length ? resolveTemplateArray(owner, tmpl, acc) : acc; }\n    return resolveRegular(acc, owner, tmpl);\n}\n","// ==========\n// XML Parse for templates. XML -> NodeTree\n// ----------\nconst RE_XML_ENTITY = /&#?[0-9a-z]{3,5};/g;\nconst RE_XML_COMMENT = /<!--((?!-->)[\\s\\S])*-->/g;\nconst RE_ATTRS = /([a-z][a-zA-Z0-9-:]+)(=\"[^\"]*\"|={[^}]*})?/g;\nconst RE_ESCAPE_XML_ENTITY = /[\"'&<>]/g;\nconst RE_XML_TAG = /(<)(\\/?)([a-zA-Z][a-zA-Z0-9-:]*)((?:\\s+[a-z][a-zA-Z0-9-:]+(?:=\"[^\"]*\"|={[^}]*})?)*)\\s*(\\/?)>/g;\nconst SINGLE_TAGS = 'img input br col'.split(' ').reduce((r, e) => { r[e] = 1; return r; }, {});\nconst SUBST_XML_ENTITY = {\n    amp: '&',\n    gt: '>',\n    lt: '<',\n    quot: `\"`,\n    nbsp: ' '\n};\nconst ESCAPE_XML_ENTITY = {\n    34: '&quot;',\n    38: '&amp;',\n    39: '&#39;',\n    60: '&lt;',\n    62: '&gt;'\n};\nconst RE_EMPTY = /^\\s*$/\nconst FN_ESCAPE_XML_ENTITY = m => ESCAPE_XML_ENTITY[m.charCodeAt(0)];\nconst FN_XML_ENTITY = function (_) {\n    const s = _.substring(1, _.length - 1);\n    return s[0] === '#' ? String.fromCharCode(+s.slice(1)) : (SUBST_XML_ENTITY[s] || ' ');\n};\nconst decodeXmlEntities = (s = '') => s.replace(RE_XML_ENTITY, FN_XML_ENTITY);\nconst escapeXml = (s) => !s ? '' : ('' + s).replace(RE_ESCAPE_XML_ENTITY, FN_ESCAPE_XML_ENTITY);\nconst skipQoutes = (s) => s[0] === '\"' && s[s.length - 1] === '\"' ? s.slice(1, -1) : s;\n\nlet UID = 1;\n\nconst parseAttrs = (s) => {\n    const r = new Map();\n    if (!s) {\n        return r;\n    }\n    while (1) {\n        let e = RE_ATTRS.exec(s);\n        if (!e) { return r; }\n        if (!e[2]) {\n            r.set(e[1], \"true\");\n        } else {\n            r.set(e[1], decodeXmlEntities(skipQoutes(e[2].slice(1))));\n        }\n    }\n};\nconst stringifyAttrs = (attrs) => {\n    if (!attrs || !attrs.size) {\n        return '';\n    }\n    const r = [];\n    attrs.forEach((v, k) => {\n        if (v && k !== '#text') {\n            r.push(' ' + k + '=\"' + escapeXml(v) + '\"');\n        }\n    });\n    return r.join('');\n};\n\nclass Node {\n    constructor(tag, attrs = new Map()) {\n        this.uid = UID++;\n        this.tag = tag || '';\n        this.attrs = attrs;\n        this.nodes = [];\n    }\n    getChild(index) {\n        return this.nodes[index];\n    }\n    setText(text) {\n        this.attrs.set('#text', decodeXmlEntities(text));\n    }\n    addChild(tag, attrs) {\n        const e = new Node(tag, attrs);\n        this.nodes.push(e);\n        return e;\n    }\n    toString() {\n        return stringify(this);\n    }\n}\n\nexport function stringify({ tag, attrs, nodes = [] }, tab = '') {\n    const sattrs = stringifyAttrs(attrs);\n    const ssubs = nodes.map(c => stringify(c, `  ${tab}`)).join('\\n');\n    const text = attrs && attrs.get('#text');\n    const stext = text ? `  ${tab}${escapeXml(text)}` : '';\n    if (tag === '#text') {\n        return stext.trim()\n    }\n    return `${tab}<${tag}${sattrs}` + (!ssubs && !stext ? '/>' : `>\\n${ssubs}${stext}\\n${tab}</${tag}>`);\n}\n\nexport const parseXML = (_s, key) => {\n    const s = ('' + _s).trim().replace(RE_XML_COMMENT, '');\n    const ctx = [new Node()];\n    let lastIndex = 0;\n    // head text omitted\n    for (let e = RE_XML_TAG.exec(s); e; e = RE_XML_TAG.exec(s)) {\n        // preceding text\n        const text = e.index && s.slice(lastIndex, e.index);\n        if (text && !text.match(RE_EMPTY)) {\n            ctx[0].addChild('#text').setText(text);\n        }\n        // closing tag\n        if (e[2]) {\n            if (ctx[0].tag !== e[3]) {\n                throw new Error(\n                    (key || '') + ' XML Parse closing tag does not match at: ' + e.index +\n                    ' near ' +\n                    e.input.slice(Math.max(e.index - 150, 0), e.index) +\n                    '^^^^' +\n                    e.input.slice(e.index, Math.min(e.index + 150, e.input.length))\n                );\n            }\n            ctx.shift();\n        } else {\n            const elt = ctx[0].addChild(e[3], parseAttrs(e[4]));\n            // not single tag\n            if (!(e[5] || (e[3] in SINGLE_TAGS))) {\n                ctx.unshift(elt);\n                if (ctx.length === 1) {\n                    throw new Error('Parse error at: ' + e[0]);\n                }\n            }\n        }\n        // up past index\n        lastIndex = RE_XML_TAG.lastIndex;\n    }\n    // tail text omitted\n    return ctx[0].getChild(0);\n};\n"],"sourceRoot":""}